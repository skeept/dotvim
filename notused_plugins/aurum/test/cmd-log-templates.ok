{{{1 $hide#-#
@  -
|  
o    -
|\   
o |  -
| |  
| o  -
|/   
o  -
|  
o  -
|  
o  -
|  
o  -
|  
o  -
|  
o    -
|\   
o \    -
|\ \   
| | o    -
| | |\   
| | o \    -
| | |\ \   
| | | | | o  -
| | | | |/   
| +-----o  -
| | | |    
| +-----o  -
| | | |    
| o | |  -
| | | |  
o | | |    -
|\ \ \ \   
| | o | |  -
| |/ / /   
| o---+  -
|  / /   
| | o  -
| |/   
| o  -
|/   
o  -
|  
o  -
|  
o  -
|  
o  -
|  
o  -
|  
{{{1 $empty
@  
|  
o    
|\   
o |  
| |  
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  
| | | | |/   
| +-----o  
| | | |    
| +-----o  
| | | |    
| o | |  
| | | |  
o | | |    
|\ \ \ \   
| | o | |  
| |/ / /   
| o---+  
|  / /   
| | o  
| |/   
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
{{{1 $hex
@  504f74154456dbb0e9441326514e42ce66279e62
|  
o    d8140c0b7b0b670bafe0891bcf0c4582092de884
|\   
o |  e021c634413b240b8c834a85200acc28d645f1f1
| |  
| o  e1eaeea486e48634588c778fd36a81ac5c8869a6
|/   
o  5afd628b0861f6447ed813895d5ced58a1c42a72
|  
o  e85aa09aab1621b59b8be37f723410b219c8599c
|  
o  67cf252de26b12da6769114cc89b793357f5a46a
|  
o  456e0b05b81af4f332405336f11df4769ec9f250
|  
o  f44a21859e57e4abc6155da804d08dd5069e798e
|  
o    e5648a3eea574f3fc03709b4fdd799a38f649edd
|\   
o \    462a1e95be86f96aaf6d7360f6f770826c3eb641
|\ \   
| | o    be92227e3e43f4e7402408afe110098d209d2568
| | |\   
| | o \    5e2f73d0c01dfb8ee0d3577e03d016a5f6df58b1
| | |\ \   
| | | | | o  14b19ea42f824c8597f8358149c5ba994299a410
| | | | |/   
| +-----o  023aa55bd8062179ce36adbdd78363e9b88718c1
| | | |    
| +-----o  0e6e0adf281b423193f9dce097ab1df4f91215f7
| | | |    
| o | |  c4110a066208167dae46b08f4e0d8d2b37e842f3
| | | |  
o | | |    269399222040415b3928a316f5d28792cc0be4dd
|\ \ \ \   
| | o | |  250ba7cd831ee91c3ba5bef1faebc38c5dbca5f8
| |/ / /   
| o---+  c06107b7bcbe751d2dd40faf4179ee7d6aac44ac
|  / /   
| | o  9fe0c28c3e1dd175e8372b742f13cbb7bd6799fe
| |/   
| o  d760b0fe4fe45adf585f5030181b8081899e26a9
|/   
o  7e16e7cbaf9ec5b0e65832bc6f057ba825c38cac
|  
o  a16a47a8d7aafc115651bfee6f1202093765365d
|  
o  5a6a1bf999fad1f4547eeb887af54f31d11833f2
|  
o  dfe39aa48c6ddde158e42217548b531a45ff66e9
|  
o  99ea42d70fbe32af955de907352999b1d94bef5f
|  
{{{1 $rev
@  26
|  
o    25
|\   
o |  24
| |  
| o  23
|/   
o  22
|  
o  21
|  
o  20
|  
o  19
|  
o  18
|  
o    17
|\   
o \    16
|\ \   
| | o    15
| | |\   
| | o \    14
| | |\ \   
| | | | | o  13
| | | | |/   
| +-----o  12
| | | |    
| +-----o  11
| | | |    
| o | |  10
| | | |  
o | | |    9
|\ \ \ \   
| | o | |  8
| |/ / /   
| o---+  7
|  / /   
| | o  6
| |/   
| o  5
|/   
o  4
|  
o  3
|  
o  2
|  
o  1
|  
o  0
|  
{{{1 $user
@  A <a@example.com>
|  
o    C <c@example.gov>
|\   
o |  A <a@example.com>
| |  
| o  A <a@example.com>
|/   
o  A <a@example.com>
|  
o  A <a@example.com>
|  
o  B <b@example.org>
|  
o  B <b@example.org>
|  
o  A <a@example.com>
|  
o    C <c@example.gov>
|\   
o \    C <c@example.gov>
|\ \   
| | o    C <c@example.gov>
| | |\   
| | o \    C <c@example.gov>
| | |\ \   
| | | | | o  B <b@example.org>
| | | | |/   
| +-----o  B <b@example.org>
| | | |    
| +-----o  A <a@example.com>
| | | |    
| o | |  A <a@example.com>
| | | |  
o | | |    C <c@example.gov>
|\ \ \ \   
| | o | |  B <b@example.org>
| |/ / /   
| o---+  B <b@example.org>
|  / /   
| | o  A <a@example.com>
| |/   
| o  B <b@example.org>
|/   
o  A <a@example.com>
|  
o  B <b@example.org>
|  
o  B <b@example.org>
|  
o  A <a@example.com>
|  
o  A <a@example.com>
|  
{{{1 $branch
@  
|  
o    
|\   
o |  
| |  
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
o    
|\   
o \    
|\ \   
| | o    A
| | |\   
| | o \    A
| | |\ \   
| | | | | o  C
| | | | |/   
| +-----o  C
| | | |    
| +-----o  C
| | | |    
| o | |  C
| | | |  
o | | |    
|\ \ \ \   
| | o | |  C
| |/ / /   
| o---+  C
|  / /   
| | o  B
| |/   
| o  A
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
{{{1 $rev[$branch]
@  26[default]
|  
o    25[default]
|\   
o |  24[default]
| |  
| o  23[default]
|/   
o  22[default]
|  
o  21[default]
|  
o  20[default]
|  
o  19[default]
|  
o  18[default]
|  
o    17[default]
|\   
o \    16[default]
|\ \   
| | o    15[A]
| | |\   
| | o \    14[A]
| | |\ \   
| | | | | o  13[C]
| | | | |/   
| +-----o  12[C]
| | | |    
| +-----o  11[C]
| | | |    
| o | |  10[C]
| | | |  
o | | |    9[default]
|\ \ \ \   
| | o | |  8[C]
| |/ / /   
| o---+  7[C]
|  / /   
| | o  6[B]
| |/   
| o  5[A]
|/   
o  4[default]
|  
o  3[default]
|  
o  2[default]
|  
o  1[default]
|  
o  0[default]
|  
{{{1 $rev[$branch#hide#]
@  26[]
|  
o    25[]
|\   
o |  24[]
| |  
| o  23[]
|/   
o  22[]
|  
o  21[]
|  
o  20[]
|  
o  19[]
|  
o  18[]
|  
o    17[]
|\   
o \    16[]
|\ \   
| | o    15[A]
| | |\   
| | o \    14[A]
| | |\ \   
| | | | | o  13[C]
| | | | |/   
| +-----o  12[C]
| | | |    
| +-----o  11[C]
| | | |    
| o | |  10[C]
| | | |  
o | | |    9[]
|\ \ \ \   
| | o | |  8[C]
| |/ / /   
| o---+  7[C]
|  / /   
| | o  6[B]
| |/   
| o  5[A]
|/   
o  4[]
|  
o  3[]
|  
o  2[]
|  
o  1[]
|  
o  0[]
|  
{{{1 $rev$branch#hide,pref:[,suf:]#
@  26
|  
o    25
|\   
o |  24
| |  
| o  23
|/   
o  22
|  
o  21
|  
o  20
|  
o  19
|  
o  18
|  
o    17
|\   
o \    16
|\ \   
| | o    15[A]
| | |\   
| | o \    14[A]
| | |\ \   
| | | | | o  13[C]
| | | | |/   
| +-----o  12[C]
| | | |    
| +-----o  11[C]
| | | |    
| o | |  10[C]
| | | |  
o | | |    9
|\ \ \ \   
| | o | |  8[C]
| |/ / /   
| o---+  7[C]
|  / /   
| | o  6[B]
| |/   
| o  5[A]
|/   
o  4
|  
o  3
|  
o  2
|  
o  1
|  
o  0
|  
{{{1 $rev$branch#hide,pref:/#
@  26
|  
o    25
|\   
o |  24
| |  
| o  23
|/   
o  22
|  
o  21
|  
o  20
|  
o  19
|  
o  18
|  
o    17
|\   
o \    16
|\ \   
| | o    15/A
| | |\   
| | o \    14/A
| | |\ \   
| | | | | o  13/C
| | | | |/   
| +-----o  12/C
| | | |    
| +-----o  11/C
| | | |    
| o | |  10/C
| | | |  
o | | |    9
|\ \ \ \   
| | o | |  8/C
| |/ / /   
| o---+  7/C
|  / /   
| | o  6/B
| |/   
| o  5/A
|/   
o  4
|  
o  3
|  
o  2
|  
o  1
|  
o  0
|  
{{{1 $rev $branch#hide,suf:!#
@  26 
|  
o    25 
|\   
o |  24 
| |  
| o  23 
|/   
o  22 
|  
o  21 
|  
o  20 
|  
o  19 
|  
o  18 
|  
o    17 
|\   
o \    16 
|\ \   
| | o    15 A!
| | |\   
| | o \    14 A!
| | |\ \   
| | | | | o  13 C!
| | | | |/   
| +-----o  12 C!
| | | |    
| +-----o  11 C!
| | | |    
| o | |  10 C!
| | | |  
o | | |    9 
|\ \ \ \   
| | o | |  8 C!
| |/ / /   
| o---+  7 C!
|  / /   
| | o  6 B!
| |/   
| o  5 A!
|/   
o  4 
|  
o  3 
|  
o  2 
|  
o  1 
|  
o  0 
|  
{{{1 $time
@  11 Feb 2002 05:43
|  
o    11 Feb 2002 05:00
|\   
o |  11 Feb 2002 04:15
| |  
| o  11 Feb 2002 04:15
|/   
o  11 Feb 2002 03:16
|  
o  11 Feb 2002 03:15
|  
o  10 Feb 2002 16:01
|  
o  10 Feb 2002 15:33
|  
o  10 Feb 2002 05:00
|  
o    01 Jan 2002 00:00
|\   
o \    01 Jan 2002 00:00
|\ \   
| | o    01 Jan 2002 00:00
| | |\   
| | o \    01 Jan 2002 00:00
| | |\ \   
| | | | | o  01 Feb 2001 14:56
| | | | |/   
| +-----o  01 Feb 2001 14:56
| | | |    
| +-----o  01 Feb 2001 05:19
| | | |    
| o | |  01 Feb 2001 05:18
| | | |  
o | | |    01 Jan 2001 00:00
|\ \ \ \   
| | o | |  02 Nov 2000 14:14
| |/ / /   
| o---+  02 Nov 2000 14:13
|  / /   
| | o  02 Nov 2000 05:44
| |/   
| o  01 Nov 2000 13:24
|/   
o  10 May 2000 04:23
|  
o  01 Feb 2000 14:00
|  
o  15 Jan 2000 15:00
|  
o  05 Jan 2000 07:30
|  
o  02 Jan 1999 05:20
|  
{{{1 $time#%Y %j#
@  2002 042
|  
o    2002 042
|\   
o |  2002 042
| |  
| o  2002 042
|/   
o  2002 042
|  
o  2002 042
|  
o  2002 041
|  
o  2002 041
|  
o  2002 041
|  
o    2002 001
|\   
o \    2002 001
|\ \   
| | o    2002 001
| | |\   
| | o \    2002 001
| | |\ \   
| | | | | o  2001 032
| | | | |/   
| +-----o  2001 032
| | | |    
| +-----o  2001 032
| | | |    
| o | |  2001 032
| | | |  
o | | |    2001 001
|\ \ \ \   
| | o | |  2000 307
| |/ / /   
| o---+  2000 307
|  / /   
| | o  2000 307
| |/   
| o  2000 306
|/   
o  2000 131
|  
o  2000 032
|  
o  2000 015
|  
o  2000 005
|  
o  1999 002
|  
{{{1 $parents
@  d8140c0b7b0b670bafe0891bcf0c4582092de884
|  
o    e021c634413b240b8c834a85200acc28d645f1f1 e1eaeea486e48634588c778fd36a81ac5c8869a6
|\   
o |  5afd628b0861f6447ed813895d5ced58a1c42a72
| |  
| o  5afd628b0861f6447ed813895d5ced58a1c42a72
|/   
o  e85aa09aab1621b59b8be37f723410b219c8599c
|  
o  67cf252de26b12da6769114cc89b793357f5a46a
|  
o  456e0b05b81af4f332405336f11df4769ec9f250
|  
o  f44a21859e57e4abc6155da804d08dd5069e798e
|  
o  e5648a3eea574f3fc03709b4fdd799a38f649edd
|  
o    462a1e95be86f96aaf6d7360f6f770826c3eb641 be92227e3e43f4e7402408afe110098d209d2568
|\   
o \    269399222040415b3928a316f5d28792cc0be4dd c4110a066208167dae46b08f4e0d8d2b37e842f3
|\ \   
| | o    5e2f73d0c01dfb8ee0d3577e03d016a5f6df58b1 023aa55bd8062179ce36adbdd78363e9b88718c1
| | |\   
| | o \    d760b0fe4fe45adf585f5030181b8081899e26a9 9fe0c28c3e1dd175e8372b742f13cbb7bd6799fe
| | |\ \   
| | | | | o  023aa55bd8062179ce36adbdd78363e9b88718c1
| | | | |/   
| +-----o  c4110a066208167dae46b08f4e0d8d2b37e842f3
| | | |    
| +-----o  c4110a066208167dae46b08f4e0d8d2b37e842f3
| | | |    
| o | |  250ba7cd831ee91c3ba5bef1faebc38c5dbca5f8
| | | |  
o | | |    7e16e7cbaf9ec5b0e65832bc6f057ba825c38cac c06107b7bcbe751d2dd40faf4179ee7d6aac44ac
|\ \ \ \   
| | o | |  c06107b7bcbe751d2dd40faf4179ee7d6aac44ac
| |/ / /   
| o---+  9fe0c28c3e1dd175e8372b742f13cbb7bd6799fe
|  / /   
| | o  d760b0fe4fe45adf585f5030181b8081899e26a9
| |/   
| o  7e16e7cbaf9ec5b0e65832bc6f057ba825c38cac
|/   
o  a16a47a8d7aafc115651bfee6f1202093765365d
|  
o  5a6a1bf999fad1f4547eeb887af54f31d11833f2
|  
o  dfe39aa48c6ddde158e42217548b531a45ff66e9
|  
o  99ea42d70fbe32af955de907352999b1d94bef5f
|  
o  0000000000000000000000000000000000000000
|  
{{{1 $children
@  
|  
o    504f74154456dbb0e9441326514e42ce66279e62
|\   
o |  d8140c0b7b0b670bafe0891bcf0c4582092de884
| |  
| o  d8140c0b7b0b670bafe0891bcf0c4582092de884
|/   
o  e1eaeea486e48634588c778fd36a81ac5c8869a6 e021c634413b240b8c834a85200acc28d645f1f1
|  
o  5afd628b0861f6447ed813895d5ced58a1c42a72
|  
o  e85aa09aab1621b59b8be37f723410b219c8599c
|  
o  67cf252de26b12da6769114cc89b793357f5a46a
|  
o  456e0b05b81af4f332405336f11df4769ec9f250
|  
o    f44a21859e57e4abc6155da804d08dd5069e798e
|\   
o \    e5648a3eea574f3fc03709b4fdd799a38f649edd
|\ \   
| | o    e5648a3eea574f3fc03709b4fdd799a38f649edd
| | |\   
| | o \    be92227e3e43f4e7402408afe110098d209d2568
| | |\ \   
| | | | | o  
| | | | |/   
| +-----o  14b19ea42f824c8597f8358149c5ba994299a410 be92227e3e43f4e7402408afe110098d209d2568
| | | |    
| +-----o  
| | | |    
| o | |  0e6e0adf281b423193f9dce097ab1df4f91215f7 023aa55bd8062179ce36adbdd78363e9b88718c1 462a1e95be86f96aaf6d7360f6f770826c3eb641
| | | |  
o | | |    462a1e95be86f96aaf6d7360f6f770826c3eb641
|\ \ \ \   
| | o | |  c4110a066208167dae46b08f4e0d8d2b37e842f3
| |/ / /   
| o---+  250ba7cd831ee91c3ba5bef1faebc38c5dbca5f8 269399222040415b3928a316f5d28792cc0be4dd
|  / /   
| | o  c06107b7bcbe751d2dd40faf4179ee7d6aac44ac 5e2f73d0c01dfb8ee0d3577e03d016a5f6df58b1
| |/   
| o  9fe0c28c3e1dd175e8372b742f13cbb7bd6799fe 5e2f73d0c01dfb8ee0d3577e03d016a5f6df58b1
|/   
o  d760b0fe4fe45adf585f5030181b8081899e26a9 269399222040415b3928a316f5d28792cc0be4dd
|  
o  7e16e7cbaf9ec5b0e65832bc6f057ba825c38cac
|  
o  a16a47a8d7aafc115651bfee6f1202093765365d
|  
o  5a6a1bf999fad1f4547eeb887af54f31d11833f2
|  
o  dfe39aa48c6ddde158e42217548b531a45ff66e9
|  
{{{1 $tags;$bookmarks
@  tip;
|  
o    ;
|\   
o |  ;
| |  
| o  ;
|/   
o  ;
|  
o  ;
|  
o  ;
|  
o  ;
|  
o  ;
|  
o    ;
|\   
o \    ;
|\ \   
| | o    ;
| | |\   
| | o \    ;
| | |\ \   
| | | | | o  ;
| | | | |/   
| +-----o  clines, oldtag;
| | | |    
| +-----o  ;
| | | |    
| o | |  blines;
| | | |  
o | | |    ;
|\ \ \ \   
| | o | |  ;
| |/ / /   
| o---+  ablines;
|  / /   
| | o  ;
| |/   
| o  ;
|/   
o  ;
|  
o  ;
|  
o  ;
|  
o  ;
|  
o  ;
|  
{{{1 $tags#;#;$bookmarks#;#
@  tip;
|  
o    ;
|\   
o |  ;
| |  
| o  ;
|/   
o  ;
|  
o  ;
|  
o  ;
|  
o  ;
|  
o  ;
|  
o    ;
|\   
o \    ;
|\ \   
| | o    ;
| | |\   
| | o \    ;
| | |\ \   
| | | | | o  ;
| | | | |/   
| +-----o  clines;oldtag;
| | | |    
| +-----o  ;
| | | |    
| o | |  blines;
| | | |  
o | | |    ;
|\ \ \ \   
| | o | |  ;
| |/ / /   
| o---+  ablines;
|  / /   
| | o  ;
| |/   
| o  ;
|/   
o  ;
|  
o  ;
|  
o  ;
|  
o  ;
|  
o  ;
|  
{{{1 $rev$tags#\,,pref:[,suf:]#
@  26[tip]
|  
o    25
|\   
o |  24
| |  
| o  23
|/   
o  22
|  
o  21
|  
o  20
|  
o  19
|  
o  18
|  
o    17
|\   
o \    16
|\ \   
| | o    15
| | |\   
| | o \    14
| | |\ \   
| | | | | o  13
| | | | |/   
| +-----o  12[clines,oldtag]
| | | |    
| +-----o  11
| | | |    
| o | |  10[blines]
| | | |  
o | | |    9
|\ \ \ \   
| | o | |  8
| |/ / /   
| o---+  7[ablines]
|  / /   
| | o  6
| |/   
| o  5
|/   
o  4
|  
o  3
|  
o  2
|  
o  1
|  
o  0
|  
{{{1 $summary
@  Added .hgignore
|  
o    Merge
|\   
o |  Added elines.lst with eplines
| |  
| o  Added elines.lst, flines.lst and glines.lst
|/   
o  Added tag oldtag for changeset 023aa55bd806
|  
o  Added ignored10.lst
|  
o  Added nohglinesrev.lst
|  
o  Added nohglines.lst
|  
o  Copied “hglines.lst” to “hglines2.lst”
|  
o    Merge from A
|\   
o \    Merge from C:1
|\ \   
| | o    Merge from C:2
| | |\   
| | o \    Merge from B
| | |\ \   
| | | | | o  Added tag clines for changeset 023aa55bd806
| | | | |/   
| +-----o  Added clines.lst
| | | |    
| +-----o  Added tag blines for changeset c4110a066208
| | | |    
| o | |  Added blines.lst
| | | |  
o | | |    Merge from C
|\ \ \ \   
| | o | |  Added tag ablines for changeset c06107b7bcbe
| |/ / /   
| o---+  Added ablines.lst
|  / /   
| | o  Added alines.lst
| |/   
| o  Added dlines.lst
|/   
o  Added «hglines.lst» and «datelines.lst»
|  
o  Renamed «crepo.zsh» to «chgrepo.zsh»
|  
o  Replaced
|  
o  Renamed «createrepo.zsh» to «crepo.zsh»
|  
o  Added «createrepo.zsh»
|  
{{{1 $rev: $description-
@  26: Added .hgignore
|  26: Added directory/file-
o    25: Merge-
|\   
o |  24: Added elines.lst with eplines
| |  24: Added flines.lst with frlines
| |  24: Added glines.lst with grlines-
| o  23: Added elines.lst, flines.lst and glines.lst-
|/   
o  22: Added tag oldtag for changeset 023aa55bd806-
|  
o  21: Added ignored10.lst-
|  
o  20: Added nohglinesrev.lst-
|  
o  19: Added nohglines.lst-
|  
o  18: Copied “hglines.lst” to “hglines2.lst”-
|  
o    17: Merge from A-
|\   
o \    16: Merge from C:1-
|\ \   
| | o    15: Merge from C:2-
| | |\   
| | o \    14: Merge from B-
| | |\ \   
| | | | | o  13: Added tag clines for changeset 023aa55bd806-
| | | | |/   
| +-----o  12: Added clines.lst-
| | | |    
| +-----o  11: Added tag blines for changeset c4110a066208-
| | | |    
| o | |  10: Added blines.lst-
| | | |  
o | | |    9: Merge from C-
|\ \ \ \   
| | o | |  8: Added tag ablines for changeset c06107b7bcbe-
| |/ / /   
| o---+  7: Added ablines.lst-
|  / /   
| | o  6: Added alines.lst-
| |/   
| o  5: Added dlines.lst-
|/   
o  4: Added «hglines.lst» and «datelines.lst»-
|  
o  3: Renamed «crepo.zsh» to «chgrepo.zsh»-
|  
o  2: Replaced
|  2:     (
|  2:         ...
|  2:     )
|  2: with
|  2:     {
|  2:         ...
|  2:     }-
o  1: Renamed «createrepo.zsh» to «crepo.zsh»-
|  
o  0: Added «createrepo.zsh»-
|  
{{{1 $patch
@  diff -r d8140c0b7b0b -r 504f74154456 .hgignore
|  --- /dev/null
|  +++ b/.hgignore
|  @@ -0,0 +1,2 @@
|  +syntax: glob
|  +ignored*
|  diff -r d8140c0b7b0b -r 504f74154456 directory/file
|  --- /dev/null
|  +++ b/directory/file
|  @@ -0,0 +1,1 @@
|  +File contents
|  
o    diff -r e021c634413b -r d8140c0b7b0b elines.lst
|\   --- a/elines.lst
| |  +++ /dev/null
| |  @@ -1,19 +0,0 @@
| |  -    hg init testrepo
| |  -    cd testrepo
| |  -    cp ../createrepo.zsh .
| |  -    hg commit -A -m 'Added «createrepo.zsh»' \
| |  -    hg mv createrepo.zsh crepo.zsh
| |  -    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| |  -    perl -p -i -e 'tr/{}/{}/' crepo.zsh
| |  -    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| |  -    hg mv crepo.zsh chgrepo.zsh
| |  -    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| |  -    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| |  -    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| |  -    cat chgrepo.zsh | grep 'd' > dlines.lst
| |  -    cat chgrepo.zsh | grep 'a' > alines.lst
| |  -    cat alines.lst | grep 'b' > ablines.lst
| |  -    cat chgrepo.zsh | grep 'b' > blines.lst
| |  -    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| |  -    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| |  -tar cJf testrepo.tar.xz testrepo
| |  diff -r e021c634413b -r d8140c0b7b0b emerged.lst
| |  --- /dev/null
| |  +++ b/emerged.lst
| |  @@ -0,0 +1,127 @@
| |  +<<<<<<< local
| |  +=======
| |  +emulate -L zsh
| |  +set -e
| |  +local A='A <a@example.com>'
| |  +local B='B <b@example.org>'
| |  +local C='C <c@example.gov>'
| |  +    set -e
| |  +>>>>>>> other
| |  +    hg init testrepo
| |  +    cd testrepo
| |  +    cp ../createrepo.zsh .
| |  +<<<<<<< local
| |  +=======
| |  +    # XXX Date test will work only till 2099
| |  +>>>>>>> other
| |  +    hg commit -A -m 'Added «createrepo.zsh»' \
| |  +<<<<<<< local
| |  +=======
| |  +        --date '1999-01-02 5:20' --user $A
| |  +>>>>>>> other
| |  +    hg mv createrepo.zsh crepo.zsh
| |  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| |  +<<<<<<< local
| |  +=======
| |  +        --date '2000-01-05 7:30' --user $A
| |  +>>>>>>> other
| |  +    perl -p -i -e 'tr/{}/{}/' crepo.zsh
| |  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| |  +<<<<<<< local
| |  +=======
| |  +        --date '2000-01-15 15:00' --user $B
| |  +>>>>>>> other
| |  +    hg mv crepo.zsh chgrepo.zsh
| |  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| |  +<<<<<<< local
| |  +=======
| |  +        --date '2000-02-01 14:00' --user $B
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| |  +        --date '2000-05-10 4:23' --user $A
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | grep 'd' > dlines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added dlines.lst' \
| |  +        --date '2000-11-01 13:24' --user $B
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | grep 'a' > alines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added alines.lst' \
| |  +        --date '2000-11-02 5:44' --user $A
| |  +>>>>>>> other
| |  +    cat alines.lst | grep 'b' > ablines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added ablines.lst' \
| |  +        --date '2000-11-02 14:13' --user $B
| |  +    hg tag ablines \
| |  +        --date '2000-11-02 14:14' --user $B
| |  +    hg update default
| |  +    hg merge -r ablines
| |  +    hg commit -m 'Merge from C' \
| |  +        --date '2001-01-01 00:00' --user $C
| |  +    hg update C
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added blines.lst' \
| |  +        --date '2001-02-01 05:18' --user $A
| |  +    hg tag blines \
| |  +        --date '2001-02-01 05:19' --user $A
| |  +    hg update -r -2
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added clines.lst' \
| |  +        --date '2001-02-01 14:56' --user $B
| |  +    hg tag clines \
| |  +        --date '2001-02-01 14:56:52' --user $B
| |  +    hg update A
| |  +    hg merge -r B
| |  +    hg commit -m 'Merge from B' \
| |  +        --date '2002-01-01 00:00' --user $C
| |  +    hg merge -r clines
| |  +    hg commit -m 'Merge from C:2' \
| |  +        --date '2002-01-01 00:00:15' --user $C
| |  +    hg update default
| |  +    hg merge -r blines
| |  +    hg commit -m 'Merge from C:1' \
| |  +        --date '2002-01-01 00:00:30' --user $C
| |  +    hg merge -r A
| |  +    hg commit -m 'Merge from A' \
| |  +        --date '2002-01-01 00:00:45' --user $C
| |  +    hg cp hglines.lst hglines2.lst
| |  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
| |  +        --date '2002-02-10 05:00' --user $A
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added nohglines.lst' \
| |  +        --date '2002-02-10 15:33' --user $B
| |  +    cat nohglines.lst | rev > nohglinesrev.lst
| |  +    hg commit -A -m 'Added nohglinesrev.lst' \
| |  +        --date '2002-02-10 16:01' --user $B
| |  +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
| |  +    hg commit -A -m 'Added ignored10.lst' \
| |  +        --date '2002-02-11 03:15' --user $A
| |  +    echo $'syntax: glob\nignored*' > .hgignore
| |  +    hg commit -A -m 'Added .hgignore' \
| |  +        --date '2002-02-11 05:43' --user $A
| |  +    echo abc >> nohglinesrev.lst
| |  +    echo 'Def' > addeddef && hg add addeddef
| |  +    hg rm hglines2.lst
| |  +    rm nohglines.lst
| |  +    cat hglines.lst | rev > hglinesrev.lst
| |  +    echo 'Abc' > ignoredabc
| |  +>>>>>>> other
| |  +tar cJf testrepo.tar.xz testrepo
| |  diff -r e021c634413b -r d8140c0b7b0b flines.lst
| |  --- a/flines.lst
| |  +++ /dev/null
| |  @@ -1,5 +0,0 @@
| |  -    hg commit -m 'Merge from C' \
| |  -    hg commit -m 'Merge from B' \
| |  -    hg commit -m 'Merge from C:2' \
| |  -    hg commit -m 'Merge from C:1' \
| |  -    hg commit -m 'Merge from A' \
| |  diff -r e021c634413b -r d8140c0b7b0b glines.lst
| |  --- a/glines.lst
| |  +++ b/glines.lst
| |  @@ -1,10 +1,83 @@
| |  +<<<<<<< local
| |  +=======
| |  +local B='B <b@example.org>'
| |  +local C='C <c@example.gov>'
| |  +    hg init testrepo
| |  +    hg commit -A -m 'Added «createrepo.zsh»' \
| |  +    hg mv createrepo.zsh crepo.zsh
| |  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| |  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| |  +>>>>>>> other
| |       hg mv crepo.zsh chgrepo.zsh
| |       hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| |       cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| |       cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| |  +    hg branch A
| |  +>>>>>>> other
| |       cat chgrepo.zsh | grep 'd' > dlines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added dlines.lst' \
| |  +    hg branch B
| |  +>>>>>>> other
| |       cat chgrepo.zsh | grep 'a' > alines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added alines.lst' \
| |  +    hg branch C
| |  +>>>>>>> other
| |       cat alines.lst | grep 'b' > ablines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added ablines.lst' \
| |  +    hg tag ablines \
| |  +    hg update default
| |  +    hg merge -r ablines
| |  +    hg commit -m 'Merge from C' \
| |  +    hg update C
| |  +>>>>>>> other
| |       cat chgrepo.zsh | grep 'b' > blines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added blines.lst' \
| |  +    hg tag blines \
| |  +    hg update -r -2
| |  +>>>>>>> other
| |       cat chgrepo.zsh | sort | grep 'c' > clines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added clines.lst' \
| |  +    hg tag clines \
| |  +    hg update A
| |  +    hg merge -r B
| |  +    hg commit -m 'Merge from B' \
| |  +    hg merge -r clines
| |  +    hg commit -m 'Merge from C:2' \
| |  +    hg update default
| |  +    hg merge -r blines
| |  +    hg commit -m 'Merge from C:1' \
| |  +    hg merge -r A
| |  +    hg commit -m 'Merge from A' \
| |  +    hg cp hglines.lst hglines2.lst
| |  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
| |  +>>>>>>> other
| |       cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added nohglines.lst' \
| |  +    cat nohglines.lst | rev > nohglinesrev.lst
| |  +    hg commit -A -m 'Added nohglinesrev.lst' \
| |  +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
| |  +    hg commit -A -m 'Added ignored10.lst' \
| |  +    echo $'syntax: glob\nignored*' > .hgignore
| |  +    hg commit -A -m 'Added .hgignore' \
| |  +    echo abc >> nohglinesrev.lst
| |  +    echo 'Def' > addeddef && hg add addeddef
| |  +    hg rm hglines2.lst
| |  +    rm nohglines.lst
| |  +    cat hglines.lst | rev > hglinesrev.lst
| |  +    echo 'Abc' > ignoredabc
| |  +>>>>>>> other
| |  diff -r e021c634413b -r d8140c0b7b0b glinescopy.lst
| |  --- /dev/null
| |  +++ b/glinescopy.lst
| |  @@ -0,0 +1,83 @@
| |  +<<<<<<< local
| |  +=======
| |  +local B='B <b@example.org>'
| |  +local C='C <c@example.gov>'
| |  +    hg init testrepo
| |  +    hg commit -A -m 'Added «createrepo.zsh»' \
| |  +    hg mv createrepo.zsh crepo.zsh
| |  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| |  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| |  +>>>>>>> other
| |  +    hg mv crepo.zsh chgrepo.zsh
| |  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| |  +    hg branch A
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | grep 'd' > dlines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added dlines.lst' \
| |  +    hg branch B
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | grep 'a' > alines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added alines.lst' \
| |  +    hg branch C
| |  +>>>>>>> other
| |  +    cat alines.lst | grep 'b' > ablines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added ablines.lst' \
| |  +    hg tag ablines \
| |  +    hg update default
| |  +    hg merge -r ablines
| |  +    hg commit -m 'Merge from C' \
| |  +    hg update C
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added blines.lst' \
| |  +    hg tag blines \
| |  +    hg update -r -2
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added clines.lst' \
| |  +    hg tag clines \
| |  +    hg update A
| |  +    hg merge -r B
| |  +    hg commit -m 'Merge from B' \
| |  +    hg merge -r clines
| |  +    hg commit -m 'Merge from C:2' \
| |  +    hg update default
| |  +    hg merge -r blines
| |  +    hg commit -m 'Merge from C:1' \
| |  +    hg merge -r A
| |  +    hg commit -m 'Merge from A' \
| |  +    hg cp hglines.lst hglines2.lst
| |  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
| |  +>>>>>>> other
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| |  +<<<<<<< local
| |  +=======
| |  +    hg commit -A -m 'Added nohglines.lst' \
| |  +    cat nohglines.lst | rev > nohglinesrev.lst
| |  +    hg commit -A -m 'Added nohglinesrev.lst' \
| |  +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
| |  +    hg commit -A -m 'Added ignored10.lst' \
| |  +    echo $'syntax: glob\nignored*' > .hgignore
| |  +    hg commit -A -m 'Added .hgignore' \
| |  +    echo abc >> nohglinesrev.lst
| |  +    echo 'Def' > addeddef && hg add addeddef
| |  +    hg rm hglines2.lst
| |  +    rm nohglines.lst
| |  +    cat hglines.lst | rev > hglinesrev.lst
| |  +    echo 'Abc' > ignoredabc
| |  +>>>>>>> other
| |  
o |  diff -r 5afd628b0861 -r e021c634413b elines.lst
| |  --- /dev/null
| |  +++ b/elines.lst
| |  @@ -0,0 +1,19 @@
| |  +    hg init testrepo
| |  +    cd testrepo
| |  +    cp ../createrepo.zsh .
| |  +    hg commit -A -m 'Added «createrepo.zsh»' \
| |  +    hg mv createrepo.zsh crepo.zsh
| |  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| |  +    perl -p -i -e 'tr/{}/{}/' crepo.zsh
| |  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| |  +    hg mv crepo.zsh chgrepo.zsh
| |  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| |  +    cat chgrepo.zsh | grep 'd' > dlines.lst
| |  +    cat chgrepo.zsh | grep 'a' > alines.lst
| |  +    cat alines.lst | grep 'b' > ablines.lst
| |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| |  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| |  +tar cJf testrepo.tar.xz testrepo
| |  diff -r 5afd628b0861 -r e021c634413b flines.lst
| |  --- /dev/null
| |  +++ b/flines.lst
| |  @@ -0,0 +1,5 @@
| |  +    hg commit -m 'Merge from C' \
| |  +    hg commit -m 'Merge from B' \
| |  +    hg commit -m 'Merge from C:2' \
| |  +    hg commit -m 'Merge from C:1' \
| |  +    hg commit -m 'Merge from A' \
| |  diff -r 5afd628b0861 -r e021c634413b glines.lst
| |  --- /dev/null
| |  +++ b/glines.lst
| |  @@ -0,0 +1,10 @@
| |  +    hg mv crepo.zsh chgrepo.zsh
| |  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| |  +    cat chgrepo.zsh | grep 'd' > dlines.lst
| |  +    cat chgrepo.zsh | grep 'a' > alines.lst
| |  +    cat alines.lst | grep 'b' > ablines.lst
| |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| |  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| |  
| o  diff -r 5afd628b0861 -r e1eaeea486e4 elines.lst
|/   --- /dev/null
|    +++ b/elines.lst
|    @@ -0,0 +1,88 @@
|    +emulate -L zsh
|    +set -e
|    +local A='A <a@example.com>'
|    +local B='B <b@example.org>'
|    +local C='C <c@example.gov>'
|    +    set -e
|    +    hg init testrepo
|    +    cd testrepo
|    +    cp ../createrepo.zsh .
|    +    # XXX Date test will work only till 2099
|    +    hg commit -A -m 'Added «createrepo.zsh»' \
|    +        --date '1999-01-02 5:20' --user $A
|    +    hg mv createrepo.zsh crepo.zsh
|    +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|    +        --date '2000-01-05 7:30' --user $A
|    +    perl -p -i -e 'tr/{}/{}/' crepo.zsh
|    +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
|    +        --date '2000-01-15 15:00' --user $B
|    +    hg mv crepo.zsh chgrepo.zsh
|    +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|    +        --date '2000-02-01 14:00' --user $B
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|    +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|    +        --date '2000-05-10 4:23' --user $A
|    +    cat chgrepo.zsh | grep 'd' > dlines.lst
|    +    hg commit -A -m 'Added dlines.lst' \
|    +        --date '2000-11-01 13:24' --user $B
|    +    cat chgrepo.zsh | grep 'a' > alines.lst
|    +    hg commit -A -m 'Added alines.lst' \
|    +        --date '2000-11-02 5:44' --user $A
|    +    cat alines.lst | grep 'b' > ablines.lst
|    +    hg commit -A -m 'Added ablines.lst' \
|    +        --date '2000-11-02 14:13' --user $B
|    +    hg tag ablines \
|    +        --date '2000-11-02 14:14' --user $B
|    +    hg update default
|    +    hg merge -r ablines
|    +    hg commit -m 'Merge from C' \
|    +        --date '2001-01-01 00:00' --user $C
|    +    hg update C
|    +    cat chgrepo.zsh | grep 'b' > blines.lst
|    +    hg commit -A -m 'Added blines.lst' \
|    +        --date '2001-02-01 05:18' --user $A
|    +    hg tag blines \
|    +        --date '2001-02-01 05:19' --user $A
|    +    hg update -r -2
|    +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
|    +    hg commit -A -m 'Added clines.lst' \
|    +        --date '2001-02-01 14:56' --user $B
|    +    hg tag clines \
|    +        --date '2001-02-01 14:56:52' --user $B
|    +    hg update A
|    +    hg merge -r B
|    +    hg commit -m 'Merge from B' \
|    +        --date '2002-01-01 00:00' --user $C
|    +    hg merge -r clines
|    +    hg commit -m 'Merge from C:2' \
|    +        --date '2002-01-01 00:00:15' --user $C
|    +    hg update default
|    +    hg merge -r blines
|    +    hg commit -m 'Merge from C:1' \
|    +        --date '2002-01-01 00:00:30' --user $C
|    +    hg merge -r A
|    +    hg commit -m 'Merge from A' \
|    +        --date '2002-01-01 00:00:45' --user $C
|    +    hg cp hglines.lst hglines2.lst
|    +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|    +        --date '2002-02-10 05:00' --user $A
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|    +    hg commit -A -m 'Added nohglines.lst' \
|    +        --date '2002-02-10 15:33' --user $B
|    +    cat nohglines.lst | rev > nohglinesrev.lst
|    +    hg commit -A -m 'Added nohglinesrev.lst' \
|    +        --date '2002-02-10 16:01' --user $B
|    +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
|    +    hg commit -A -m 'Added ignored10.lst' \
|    +        --date '2002-02-11 03:15' --user $A
|    +    echo $'syntax: glob\nignored*' > .hgignore
|    +    hg commit -A -m 'Added .hgignore' \
|    +        --date '2002-02-11 05:43' --user $A
|    +    echo abc >> nohglinesrev.lst
|    +    echo 'Def' > addeddef && hg add addeddef
|    +    hg rm hglines2.lst
|    +    rm nohglines.lst
|    +    cat hglines.lst | rev > hglinesrev.lst
|    +    echo 'Abc' > ignoredabc
|    +tar cJf testrepo.tar.xz testrepo
|    diff -r 5afd628b0861 -r e1eaeea486e4 flines.lst
|    --- /dev/null
|    +++ b/flines.lst
|    @@ -0,0 +1,12 @@
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|    +    hg update default
|    +    hg commit -m 'Merge from C' \
|    +    hg commit -m 'Merge from B' \
|    +    hg commit -m 'Merge from C:2' \
|    +    hg update default
|    +    hg commit -m 'Merge from C:1' \
|    +    hg commit -m 'Merge from A' \
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|    +    echo 'Def' > addeddef && hg add addeddef
|    +tar cJf testrepo.tar.xz testrepo
|    diff -r 5afd628b0861 -r e1eaeea486e4 glines.lst
|    --- /dev/null
|    +++ b/glines.lst
|    @@ -0,0 +1,59 @@
|    +local B='B <b@example.org>'
|    +local C='C <c@example.gov>'
|    +    hg init testrepo
|    +    hg commit -A -m 'Added «createrepo.zsh»' \
|    +    hg mv createrepo.zsh crepo.zsh
|    +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|    +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
|    +    hg mv crepo.zsh chgrepo.zsh
|    +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|    +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|    +    hg branch A
|    +    cat chgrepo.zsh | grep 'd' > dlines.lst
|    +    hg commit -A -m 'Added dlines.lst' \
|    +    hg branch B
|    +    cat chgrepo.zsh | grep 'a' > alines.lst
|    +    hg commit -A -m 'Added alines.lst' \
|    +    hg branch C
|    +    cat alines.lst | grep 'b' > ablines.lst
|    +    hg commit -A -m 'Added ablines.lst' \
|    +    hg tag ablines \
|    +    hg update default
|    +    hg merge -r ablines
|    +    hg commit -m 'Merge from C' \
|    +    hg update C
|    +    cat chgrepo.zsh | grep 'b' > blines.lst
|    +    hg commit -A -m 'Added blines.lst' \
|    +    hg tag blines \
|    +    hg update -r -2
|    +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
|    +    hg commit -A -m 'Added clines.lst' \
|    +    hg tag clines \
|    +    hg update A
|    +    hg merge -r B
|    +    hg commit -m 'Merge from B' \
|    +    hg merge -r clines
|    +    hg commit -m 'Merge from C:2' \
|    +    hg update default
|    +    hg merge -r blines
|    +    hg commit -m 'Merge from C:1' \
|    +    hg merge -r A
|    +    hg commit -m 'Merge from A' \
|    +    hg cp hglines.lst hglines2.lst
|    +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|    +    hg commit -A -m 'Added nohglines.lst' \
|    +    cat nohglines.lst | rev > nohglinesrev.lst
|    +    hg commit -A -m 'Added nohglinesrev.lst' \
|    +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
|    +    hg commit -A -m 'Added ignored10.lst' \
|    +    echo $'syntax: glob\nignored*' > .hgignore
|    +    hg commit -A -m 'Added .hgignore' \
|    +    echo abc >> nohglinesrev.lst
|    +    echo 'Def' > addeddef && hg add addeddef
|    +    hg rm hglines2.lst
|    +    rm nohglines.lst
|    +    cat hglines.lst | rev > hglinesrev.lst
|    +    echo 'Abc' > ignoredabc
|    
o  diff -r e85aa09aab16 -r 5afd628b0861 .hgtags
|  --- a/.hgtags
|  +++ b/.hgtags
|  @@ -1,1 +1,2 @@
|   c06107b7bcbe751d2dd40faf4179ee7d6aac44ac ablines
|  +023aa55bd8062179ce36adbdd78363e9b88718c1 oldtag
|  
o  diff -r 67cf252de26b -r e85aa09aab16 ignored10.lst
|  --- /dev/null
|  +++ b/ignored10.lst
|  @@ -0,0 +1,10 @@
|  +1
|  +2
|  +3
|  +4
|  +5
|  +6
|  +7
|  +8
|  +9
|  +10
|  
o  diff -r 456e0b05b81a -r 67cf252de26b nohglinesrev.lst
|  --- /dev/null
|  +++ b/nohglinesrev.lst
|  @@ -0,0 +1,53 @@
|  +hsz/nib/!#
|  +hsz L- etalume
|  +e- tes
|  +'>moc.elpmaxe@a< A'=A lacol
|  +'>gro.elpmaxe@b< B'=B lacol
|  +'>vog.elpmaxe@c< C'=C lacol
|  +{
|  +e- tes    
|  +opertset dc    
|  +. hsz.operetaerc/.. pc    
|  +9902 llit ylno krow lliw tset etaD XXX #    
|  +A$ resu-- '02:5 20-10-9991' etad--        
|  +A$ resu-- '03:7 50-10-0002' etad--        
|  +hsz.operc '/}{/}{/rt' e- i- p- lrep    
|  +B$ resu-- '00:51 51-10-0002' etad--        
|  +B$ resu-- '00:41 10-20-0002' etad--        
|  +tsl.senilgh > '/ gh    ^/ sselnu _$ fednu' e- i- p- lrep | hsz.operghc tac    
|  +tsl.seniletad > '/ gh    ^/ sselnu _$ fednu' e- i- p- lrep | hsz.operghc tac    
|  +A$ resu-- '32:4 01-50-0002' etad--        
|  +tsl.senild > 'd' perg | hsz.operghc tac    
|  +B$ resu-- '42:31 10-11-0002' etad--        
|  +tsl.senila > 'a' perg | hsz.operghc tac    
|  +A$ resu-- '44:5 20-11-0002' etad--        
|  +tsl.senilba > 'b' perg | tsl.senila tac    
|  +B$ resu-- '31:41 20-11-0002' etad--        
|  +B$ resu-- '41:41 20-11-0002' etad--        
|  +C$ resu-- '00:00 10-10-1002' etad--        
|  +tsl.senilb > 'b' perg | hsz.operghc tac    
|  +A$ resu-- '81:50 10-20-1002' etad--        
|  +A$ resu-- '91:50 10-20-1002' etad--        
|  +tsl.senilc > 'c' perg | tros | hsz.operghc tac    
|  +B$ resu-- '65:41 10-20-1002' etad--        
|  +B$ resu-- '25:65:41 10-20-1002' etad--        
|  +C$ resu-- '00:00 10-10-2002' etad--        
|  +C$ resu-- '51:00:00 10-10-2002' etad--        
|  +C$ resu-- '03:00:00 10-10-2002' etad--        
|  +C$ resu-- '54:00:00 10-10-2002' etad--        
|  +A$ resu-- '00:50 01-20-2002' etad--        
|  +tsl.senilghon > '/ gh    ^/ fi _$ fednu' e- i- p- lrep | hsz.operghc tac    
|  +B$ resu-- '33:51 01-20-2002' etad--        
|  +tsl.versenilghon > ver | tsl.senilghon tac    
|  +B$ resu-- '10:61 01-20-2002' etad--        
|  +tsl.01derongi > 'n\'$ ' ' rt | 01 1 qes    
|  +A$ resu-- '51:30 11-20-2002' etad--        
|  +erongigh. > '*derongin\bolg :xatnys'$ ohce    
|  +A$ resu-- '34:50 11-20-2002' etad--        
|  +tsl.versenilghon >> cba ohce    
|  +feddedda dda gh && feddedda > 'feD' ohce    
|  +tsl.senilghon mr    
|  +tsl.versenilgh > ver | tsl.senilgh tac    
|  +cbaderongi > 'cbA' ohce    
|  +}
|  +opertset zx.rat.opertset fJc rat
|  
o  diff -r f44a21859e57 -r 456e0b05b81a nohglines.lst
|  --- /dev/null
|  +++ b/nohglines.lst
|  @@ -0,0 +1,53 @@
|  +#!/bin/zsh
|  +emulate -L zsh
|  +set -e
|  +local A='A <a@example.com>'
|  +local B='B <b@example.org>'
|  +local C='C <c@example.gov>'
|  +{
|  +    set -e
|  +    cd testrepo
|  +    cp ../createrepo.zsh .
|  +    # XXX Date test will work only till 2099
|  +        --date '1999-01-02 5:20' --user $A
|  +        --date '2000-01-05 7:30' --user $A
|  +    perl -p -i -e 'tr/{}/{}/' crepo.zsh
|  +        --date '2000-01-15 15:00' --user $B
|  +        --date '2000-02-01 14:00' --user $B
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|  +        --date '2000-05-10 4:23' --user $A
|  +    cat chgrepo.zsh | grep 'd' > dlines.lst
|  +        --date '2000-11-01 13:24' --user $B
|  +    cat chgrepo.zsh | grep 'a' > alines.lst
|  +        --date '2000-11-02 5:44' --user $A
|  +    cat alines.lst | grep 'b' > ablines.lst
|  +        --date '2000-11-02 14:13' --user $B
|  +        --date '2000-11-02 14:14' --user $B
|  +        --date '2001-01-01 00:00' --user $C
|  +    cat chgrepo.zsh | grep 'b' > blines.lst
|  +        --date '2001-02-01 05:18' --user $A
|  +        --date '2001-02-01 05:19' --user $A
|  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
|  +        --date '2001-02-01 14:56' --user $B
|  +        --date '2001-02-01 14:56:52' --user $B
|  +        --date '2002-01-01 00:00' --user $C
|  +        --date '2002-01-01 00:00:15' --user $C
|  +        --date '2002-01-01 00:00:30' --user $C
|  +        --date '2002-01-01 00:00:45' --user $C
|  +        --date '2002-02-10 05:00' --user $A
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|  +        --date '2002-02-10 15:33' --user $B
|  +    cat nohglines.lst | rev > nohglinesrev.lst
|  +        --date '2002-02-10 16:01' --user $B
|  +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
|  +        --date '2002-02-11 03:15' --user $A
|  +    echo $'syntax: glob\nignored*' > .hgignore
|  +        --date '2002-02-11 05:43' --user $A
|  +    echo abc >> nohglinesrev.lst
|  +    echo 'Def' > addeddef && hg add addeddef
|  +    rm nohglines.lst
|  +    cat hglines.lst | rev > hglinesrev.lst
|  +    echo 'Abc' > ignoredabc
|  +}
|  +tar cJf testrepo.tar.xz testrepo
|  
o  diff -r e5648a3eea57 -r f44a21859e57 hglines2.lst
|  --- /dev/null
|  +++ b/hglines2.lst
|  @@ -0,0 +1,41 @@
|  +    hg init testrepo
|  +    hg commit -A -m 'Added «createrepo.zsh»' \
|  +    hg mv createrepo.zsh crepo.zsh
|  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
|  +    hg mv crepo.zsh chgrepo.zsh
|  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|  +    hg branch A
|  +    hg commit -A -m 'Added dlines.lst' \
|  +    hg branch B
|  +    hg commit -A -m 'Added alines.lst' \
|  +    hg branch C
|  +    hg commit -A -m 'Added ablines.lst' \
|  +    hg tag ablines \
|  +    hg update default
|  +    hg merge -r ablines
|  +    hg commit -m 'Merge from C' \
|  +    hg update C
|  +    hg commit -A -m 'Added blines.lst' \
|  +    hg tag blines \
|  +    hg update -r -2
|  +    hg commit -A -m 'Added clines.lst' \
|  +    hg tag clines \
|  +    hg update A
|  +    hg merge -r B
|  +    hg commit -m 'Merge from B' \
|  +    hg merge -r clines
|  +    hg commit -m 'Merge from C:2' \
|  +    hg update default
|  +    hg merge -r blines
|  +    hg commit -m 'Merge from C:1' \
|  +    hg merge -r A
|  +    hg commit -m 'Merge from A' \
|  +    hg cp hglines.lst hglines2.lst
|  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|  +    hg commit -A -m 'Added nohglines.lst' \
|  +    hg commit -A -m 'Added nohglinesrev.lst' \
|  +    hg commit -A -m 'Added ignored10.lst' \
|  +    hg commit -A -m 'Added .hgignore' \
|  +    hg rm hglines2.lst
|  
o    diff -r 462a1e95be86 -r e5648a3eea57 clines.lst
|\   --- /dev/null
| |  +++ b/clines.lst
| |  @@ -0,0 +1,49 @@
| |  +    cat alines.lst | grep 'b' > ablines.lst
| |  +    cat chgrepo.zsh | grep 'a' > alines.lst
| |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| |  +    cat chgrepo.zsh | grep 'd' > dlines.lst
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| |  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| |  +    cat hglines.lst | rev > hglinesrev.lst
| |  +    cat nohglines.lst | rev > nohglinesrev.lst
| |  +    cd testrepo
| |  +    cp ../createrepo.zsh .
| |  +    echo 'Abc' > ignoredabc
| |  +    echo abc >> nohglinesrev.lst
| |  +    echo 'Def' > addeddef && hg add addeddef
| |  +    echo $'syntax: glob\nignored*' > .hgignore
| |  +    hg branch A
| |  +    hg branch B
| |  +    hg branch C
| |  +    hg commit -A -m 'Added ablines.lst' \
| |  +    hg commit -A -m 'Added alines.lst' \
| |  +    hg commit -A -m 'Added blines.lst' \
| |  +    hg commit -A -m 'Added clines.lst' \
| |  +    hg commit -A -m 'Added «createrepo.zsh»' \
| |  +    hg commit -A -m 'Added dlines.lst' \
| |  +    hg commit -A -m 'Added .hgignore' \
| |  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| |  +    hg commit -A -m 'Added ignored10.lst' \
| |  +    hg commit -A -m 'Added nohglines.lst' \
| |  +    hg commit -A -m 'Added nohglinesrev.lst' \
| |  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
| |  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| |  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| |  +    hg commit -m 'Merge from A' \
| |  +    hg commit -m 'Merge from B' \
| |  +    hg commit -m 'Merge from C' \
| |  +    hg commit -m 'Merge from C:1' \
| |  +    hg commit -m 'Merge from C:2' \
| |  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| |  +    hg cp hglines.lst hglines2.lst
| |  +    hg merge -r clines
| |  +    hg mv createrepo.zsh crepo.zsh
| |  +    hg mv crepo.zsh chgrepo.zsh
| |  +    hg tag clines \
| |  +local A='A <a@example.com>'
| |  +local B='B <b@example.org>'
| |  +local C='C <c@example.gov>'
| |  +    perl -p -i -e 'tr/{}/{}/' crepo.zsh
| |  +tar cJf testrepo.tar.xz testrepo
| |  
o |    diff -r 269399222040 -r 462a1e95be86 .hgtags
|\ \   --- /dev/null
| | |  +++ b/.hgtags
| | |  @@ -0,0 +1,1 @@
| | |  +c06107b7bcbe751d2dd40faf4179ee7d6aac44ac ablines
| | |  diff -r 269399222040 -r 462a1e95be86 blines.lst
| | |  --- /dev/null
| | |  +++ b/blines.lst
| | |  @@ -0,0 +1,16 @@
| | |  +#!/bin/zsh
| | |  +local B='B <b@example.org>'
| | |  +    hg branch A
| | |  +    hg branch B
| | |  +    hg branch C
| | |  +    cat alines.lst | grep 'b' > ablines.lst
| | |  +    hg commit -A -m 'Added ablines.lst' \
| | |  +    hg tag ablines \
| | |  +    hg merge -r ablines
| | |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| | |  +    hg commit -A -m 'Added blines.lst' \
| | |  +    hg tag blines \
| | |  +    hg merge -r blines
| | |  +    echo $'syntax: glob\nignored*' > .hgignore
| | |  +    echo abc >> nohglinesrev.lst
| | |  +    echo 'Abc' > ignoredabc
| | |  
| | o    diff -r 5e2f73d0c01d -r be92227e3e43 .hgtags
| | |\   --- /dev/null
| | | |  +++ b/.hgtags
| | | |  @@ -0,0 +1,1 @@
| | | |  +c06107b7bcbe751d2dd40faf4179ee7d6aac44ac ablines
| | | |  diff -r 5e2f73d0c01d -r be92227e3e43 ablines.lst
| | | |  --- /dev/null
| | | |  +++ b/ablines.lst
| | | |  @@ -0,0 +1,13 @@
| | | |  +local B='B <b@example.org>'
| | | |  +    hg branch A
| | | |  +    hg branch B
| | | |  +    hg branch C
| | | |  +    cat alines.lst | grep 'b' > ablines.lst
| | | |  +    hg commit -A -m 'Added ablines.lst' \
| | | |  +    hg tag ablines \
| | | |  +    hg merge -r ablines
| | | |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| | | |  +    hg tag blines \
| | | |  +    echo $'syntax: glob\nignored*' > .hgignore
| | | |  +    echo abc >> nohglinesrev.lst
| | | |  +    echo 'Abc' > ignoredabc
| | | |  diff -r 5e2f73d0c01d -r be92227e3e43 blines.lst
| | | |  --- /dev/null
| | | |  +++ b/blines.lst
| | | |  @@ -0,0 +1,16 @@
| | | |  +#!/bin/zsh
| | | |  +local B='B <b@example.org>'
| | | |  +    hg branch A
| | | |  +    hg branch B
| | | |  +    hg branch C
| | | |  +    cat alines.lst | grep 'b' > ablines.lst
| | | |  +    hg commit -A -m 'Added ablines.lst' \
| | | |  +    hg tag ablines \
| | | |  +    hg merge -r ablines
| | | |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| | | |  +    hg commit -A -m 'Added blines.lst' \
| | | |  +    hg tag blines \
| | | |  +    hg merge -r blines
| | | |  +    echo $'syntax: glob\nignored*' > .hgignore
| | | |  +    echo abc >> nohglinesrev.lst
| | | |  +    echo 'Abc' > ignoredabc
| | | |  diff -r 5e2f73d0c01d -r be92227e3e43 clines.lst
| | | |  --- /dev/null
| | | |  +++ b/clines.lst
| | | |  @@ -0,0 +1,49 @@
| | | |  +    cat alines.lst | grep 'b' > ablines.lst
| | | |  +    cat chgrepo.zsh | grep 'a' > alines.lst
| | | |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| | | |  +    cat chgrepo.zsh | grep 'd' > dlines.lst
| | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| | | |  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| | | |  +    cat hglines.lst | rev > hglinesrev.lst
| | | |  +    cat nohglines.lst | rev > nohglinesrev.lst
| | | |  +    cd testrepo
| | | |  +    cp ../createrepo.zsh .
| | | |  +    echo 'Abc' > ignoredabc
| | | |  +    echo abc >> nohglinesrev.lst
| | | |  +    echo 'Def' > addeddef && hg add addeddef
| | | |  +    echo $'syntax: glob\nignored*' > .hgignore
| | | |  +    hg branch A
| | | |  +    hg branch B
| | | |  +    hg branch C
| | | |  +    hg commit -A -m 'Added ablines.lst' \
| | | |  +    hg commit -A -m 'Added alines.lst' \
| | | |  +    hg commit -A -m 'Added blines.lst' \
| | | |  +    hg commit -A -m 'Added clines.lst' \
| | | |  +    hg commit -A -m 'Added «createrepo.zsh»' \
| | | |  +    hg commit -A -m 'Added dlines.lst' \
| | | |  +    hg commit -A -m 'Added .hgignore' \
| | | |  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| | | |  +    hg commit -A -m 'Added ignored10.lst' \
| | | |  +    hg commit -A -m 'Added nohglines.lst' \
| | | |  +    hg commit -A -m 'Added nohglinesrev.lst' \
| | | |  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
| | | |  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| | | |  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| | | |  +    hg commit -m 'Merge from A' \
| | | |  +    hg commit -m 'Merge from B' \
| | | |  +    hg commit -m 'Merge from C' \
| | | |  +    hg commit -m 'Merge from C:1' \
| | | |  +    hg commit -m 'Merge from C:2' \
| | | |  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| | | |  +    hg cp hglines.lst hglines2.lst
| | | |  +    hg merge -r clines
| | | |  +    hg mv createrepo.zsh crepo.zsh
| | | |  +    hg mv crepo.zsh chgrepo.zsh
| | | |  +    hg tag clines \
| | | |  +local A='A <a@example.com>'
| | | |  +local B='B <b@example.org>'
| | | |  +local C='C <c@example.gov>'
| | | |  +    perl -p -i -e 'tr/{}/{}/' crepo.zsh
| | | |  +tar cJf testrepo.tar.xz testrepo
| | | |  
| | o |    diff -r d760b0fe4fe4 -r 5e2f73d0c01d alines.lst
| | |\ \   --- /dev/null
| | | | |  +++ b/alines.lst
| | | | |  @@ -0,0 +1,64 @@
| | | | |  +emulate -L zsh
| | | | |  +local A='A <a@example.com>'
| | | | |  +local B='B <b@example.org>'
| | | | |  +local C='C <c@example.gov>'
| | | | |  +    cp ../createrepo.zsh .
| | | | |  +    # XXX Date test will work only till 2099
| | | | |  +    hg commit -A -m 'Added «createrepo.zsh»' \
| | | | |  +        --date '1999-01-02 5:20' --user $A
| | | | |  +    hg mv createrepo.zsh crepo.zsh
| | | | |  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| | | | |  +        --date '2000-01-05 7:30' --user $A
| | | | |  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| | | | |  +        --date '2000-01-15 15:00' --user $B
| | | | |  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| | | | |  +        --date '2000-02-01 14:00' --user $B
| | | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| | | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| | | | |  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| | | | |  +        --date '2000-05-10 4:23' --user $A
| | | | |  +    hg branch A
| | | | |  +    cat chgrepo.zsh | grep 'd' > dlines.lst
| | | | |  +        --date '2000-11-01 13:24' --user $B
| | | | |  +    hg branch B
| | | | |  +    cat chgrepo.zsh | grep 'a' > alines.lst
| | | | |  +    hg commit -A -m 'Added alines.lst' \
| | | | |  +        --date '2000-11-02 5:44' --user $A
| | | | |  +    hg branch C
| | | | |  +    cat alines.lst | grep 'b' > ablines.lst
| | | | |  +    hg commit -A -m 'Added ablines.lst' \
| | | | |  +        --date '2000-11-02 14:13' --user $B
| | | | |  +    hg tag ablines \
| | | | |  +        --date '2000-11-02 14:14' --user $B
| | | | |  +    hg update default
| | | | |  +    hg merge -r ablines
| | | | |  +        --date '2001-01-01 00:00' --user $C
| | | | |  +    hg update C
| | | | |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| | | | |  +        --date '2001-02-01 05:18' --user $A
| | | | |  +    hg tag blines \
| | | | |  +        --date '2001-02-01 05:19' --user $A
| | | | |  +    hg update -r -2
| | | | |  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| | | | |  +        --date '2001-02-01 14:56' --user $B
| | | | |  +    hg tag clines \
| | | | |  +        --date '2001-02-01 14:56:52' --user $B
| | | | |  +    hg update A
| | | | |  +        --date '2002-01-01 00:00' --user $C
| | | | |  +        --date '2002-01-01 00:00:15' --user $C
| | | | |  +    hg update default
| | | | |  +        --date '2002-01-01 00:00:30' --user $C
| | | | |  +        --date '2002-01-01 00:00:45' --user $C
| | | | |  +        --date '2002-02-10 05:00' --user $A
| | | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| | | | |  +        --date '2002-02-10 15:33' --user $B
| | | | |  +    cat nohglines.lst | rev > nohglinesrev.lst
| | | | |  +        --date '2002-02-10 16:01' --user $B
| | | | |  +        --date '2002-02-11 03:15' --user $A
| | | | |  +    echo $'syntax: glob\nignored*' > .hgignore
| | | | |  +        --date '2002-02-11 05:43' --user $A
| | | | |  +    echo abc >> nohglinesrev.lst
| | | | |  +    echo 'Def' > addeddef && hg add addeddef
| | | | |  +    cat hglines.lst | rev > hglinesrev.lst
| | | | |  +    echo 'Abc' > ignoredabc
| | | | |  +tar cJf testrepo.tar.xz testrepo
| | | | |  
| | | | | o  diff -r 023aa55bd806 -r 14b19ea42f82 .hgtags
| | | | |/   --- a/.hgtags
| | | | |    +++ b/.hgtags
| | | | |    @@ -1,1 +1,2 @@
| | | | |     c06107b7bcbe751d2dd40faf4179ee7d6aac44ac ablines
| | | | |    +023aa55bd8062179ce36adbdd78363e9b88718c1 clines
| | | | |    
| +-----o  diff -r c4110a066208 -r 023aa55bd806 clines.lst
| | | |    --- /dev/null
| | | |    +++ b/clines.lst
| | | |    @@ -0,0 +1,49 @@
| | | |    +    cat alines.lst | grep 'b' > ablines.lst
| | | |    +    cat chgrepo.zsh | grep 'a' > alines.lst
| | | |    +    cat chgrepo.zsh | grep 'b' > blines.lst
| | | |    +    cat chgrepo.zsh | grep 'd' > dlines.lst
| | | |    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| | | |    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| | | |    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| | | |    +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| | | |    +    cat hglines.lst | rev > hglinesrev.lst
| | | |    +    cat nohglines.lst | rev > nohglinesrev.lst
| | | |    +    cd testrepo
| | | |    +    cp ../createrepo.zsh .
| | | |    +    echo 'Abc' > ignoredabc
| | | |    +    echo abc >> nohglinesrev.lst
| | | |    +    echo 'Def' > addeddef && hg add addeddef
| | | |    +    echo $'syntax: glob\nignored*' > .hgignore
| | | |    +    hg branch A
| | | |    +    hg branch B
| | | |    +    hg branch C
| | | |    +    hg commit -A -m 'Added ablines.lst' \
| | | |    +    hg commit -A -m 'Added alines.lst' \
| | | |    +    hg commit -A -m 'Added blines.lst' \
| | | |    +    hg commit -A -m 'Added clines.lst' \
| | | |    +    hg commit -A -m 'Added «createrepo.zsh»' \
| | | |    +    hg commit -A -m 'Added dlines.lst' \
| | | |    +    hg commit -A -m 'Added .hgignore' \
| | | |    +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| | | |    +    hg commit -A -m 'Added ignored10.lst' \
| | | |    +    hg commit -A -m 'Added nohglines.lst' \
| | | |    +    hg commit -A -m 'Added nohglinesrev.lst' \
| | | |    +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
| | | |    +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| | | |    +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| | | |    +    hg commit -m 'Merge from A' \
| | | |    +    hg commit -m 'Merge from B' \
| | | |    +    hg commit -m 'Merge from C' \
| | | |    +    hg commit -m 'Merge from C:1' \
| | | |    +    hg commit -m 'Merge from C:2' \
| | | |    +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| | | |    +    hg cp hglines.lst hglines2.lst
| | | |    +    hg merge -r clines
| | | |    +    hg mv createrepo.zsh crepo.zsh
| | | |    +    hg mv crepo.zsh chgrepo.zsh
| | | |    +    hg tag clines \
| | | |    +local A='A <a@example.com>'
| | | |    +local B='B <b@example.org>'
| | | |    +local C='C <c@example.gov>'
| | | |    +    perl -p -i -e 'tr/{}/{}/' crepo.zsh
| | | |    +tar cJf testrepo.tar.xz testrepo
| | | |    
| +-----o  diff -r c4110a066208 -r 0e6e0adf281b .hgtags
| | | |    --- a/.hgtags
| | | |    +++ b/.hgtags
| | | |    @@ -1,1 +1,2 @@
| | | |     c06107b7bcbe751d2dd40faf4179ee7d6aac44ac ablines
| | | |    +c4110a066208167dae46b08f4e0d8d2b37e842f3 blines
| | | |    
| o | |  diff -r 250ba7cd831e -r c4110a066208 blines.lst
| | | |  --- /dev/null
| | | |  +++ b/blines.lst
| | | |  @@ -0,0 +1,16 @@
| | | |  +#!/bin/zsh
| | | |  +local B='B <b@example.org>'
| | | |  +    hg branch A
| | | |  +    hg branch B
| | | |  +    hg branch C
| | | |  +    cat alines.lst | grep 'b' > ablines.lst
| | | |  +    hg commit -A -m 'Added ablines.lst' \
| | | |  +    hg tag ablines \
| | | |  +    hg merge -r ablines
| | | |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| | | |  +    hg commit -A -m 'Added blines.lst' \
| | | |  +    hg tag blines \
| | | |  +    hg merge -r blines
| | | |  +    echo $'syntax: glob\nignored*' > .hgignore
| | | |  +    echo abc >> nohglinesrev.lst
| | | |  +    echo 'Abc' > ignoredabc
| | | |  
o | | |    diff -r 7e16e7cbaf9e -r 269399222040 ablines.lst
|\ \ \ \   --- /dev/null
| | | | |  +++ b/ablines.lst
| | | | |  @@ -0,0 +1,13 @@
| | | | |  +local B='B <b@example.org>'
| | | | |  +    hg branch A
| | | | |  +    hg branch B
| | | | |  +    hg branch C
| | | | |  +    cat alines.lst | grep 'b' > ablines.lst
| | | | |  +    hg commit -A -m 'Added ablines.lst' \
| | | | |  +    hg tag ablines \
| | | | |  +    hg merge -r ablines
| | | | |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| | | | |  +    hg tag blines \
| | | | |  +    echo $'syntax: glob\nignored*' > .hgignore
| | | | |  +    echo abc >> nohglinesrev.lst
| | | | |  +    echo 'Abc' > ignoredabc
| | | | |  diff -r 7e16e7cbaf9e -r 269399222040 alines.lst
| | | | |  --- /dev/null
| | | | |  +++ b/alines.lst
| | | | |  @@ -0,0 +1,64 @@
| | | | |  +emulate -L zsh
| | | | |  +local A='A <a@example.com>'
| | | | |  +local B='B <b@example.org>'
| | | | |  +local C='C <c@example.gov>'
| | | | |  +    cp ../createrepo.zsh .
| | | | |  +    # XXX Date test will work only till 2099
| | | | |  +    hg commit -A -m 'Added «createrepo.zsh»' \
| | | | |  +        --date '1999-01-02 5:20' --user $A
| | | | |  +    hg mv createrepo.zsh crepo.zsh
| | | | |  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| | | | |  +        --date '2000-01-05 7:30' --user $A
| | | | |  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| | | | |  +        --date '2000-01-15 15:00' --user $B
| | | | |  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| | | | |  +        --date '2000-02-01 14:00' --user $B
| | | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| | | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| | | | |  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| | | | |  +        --date '2000-05-10 4:23' --user $A
| | | | |  +    hg branch A
| | | | |  +    cat chgrepo.zsh | grep 'd' > dlines.lst
| | | | |  +        --date '2000-11-01 13:24' --user $B
| | | | |  +    hg branch B
| | | | |  +    cat chgrepo.zsh | grep 'a' > alines.lst
| | | | |  +    hg commit -A -m 'Added alines.lst' \
| | | | |  +        --date '2000-11-02 5:44' --user $A
| | | | |  +    hg branch C
| | | | |  +    cat alines.lst | grep 'b' > ablines.lst
| | | | |  +    hg commit -A -m 'Added ablines.lst' \
| | | | |  +        --date '2000-11-02 14:13' --user $B
| | | | |  +    hg tag ablines \
| | | | |  +        --date '2000-11-02 14:14' --user $B
| | | | |  +    hg update default
| | | | |  +    hg merge -r ablines
| | | | |  +        --date '2001-01-01 00:00' --user $C
| | | | |  +    hg update C
| | | | |  +    cat chgrepo.zsh | grep 'b' > blines.lst
| | | | |  +        --date '2001-02-01 05:18' --user $A
| | | | |  +    hg tag blines \
| | | | |  +        --date '2001-02-01 05:19' --user $A
| | | | |  +    hg update -r -2
| | | | |  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| | | | |  +        --date '2001-02-01 14:56' --user $B
| | | | |  +    hg tag clines \
| | | | |  +        --date '2001-02-01 14:56:52' --user $B
| | | | |  +    hg update A
| | | | |  +        --date '2002-01-01 00:00' --user $C
| | | | |  +        --date '2002-01-01 00:00:15' --user $C
| | | | |  +    hg update default
| | | | |  +        --date '2002-01-01 00:00:30' --user $C
| | | | |  +        --date '2002-01-01 00:00:45' --user $C
| | | | |  +        --date '2002-02-10 05:00' --user $A
| | | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| | | | |  +        --date '2002-02-10 15:33' --user $B
| | | | |  +    cat nohglines.lst | rev > nohglinesrev.lst
| | | | |  +        --date '2002-02-10 16:01' --user $B
| | | | |  +        --date '2002-02-11 03:15' --user $A
| | | | |  +    echo $'syntax: glob\nignored*' > .hgignore
| | | | |  +        --date '2002-02-11 05:43' --user $A
| | | | |  +    echo abc >> nohglinesrev.lst
| | | | |  +    echo 'Def' > addeddef && hg add addeddef
| | | | |  +    cat hglines.lst | rev > hglinesrev.lst
| | | | |  +    echo 'Abc' > ignoredabc
| | | | |  +tar cJf testrepo.tar.xz testrepo
| | | | |  diff -r 7e16e7cbaf9e -r 269399222040 dlines.lst
| | | | |  --- /dev/null
| | | | |  +++ b/dlines.lst
| | | | |  @@ -0,0 +1,52 @@
| | | | |  +    cd testrepo
| | | | |  +    hg commit -A -m 'Added «createrepo.zsh»' \
| | | | |  +        --date '1999-01-02 5:20' --user $A
| | | | |  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| | | | |  +        --date '2000-01-05 7:30' --user $A
| | | | |  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| | | | |  +        --date '2000-01-15 15:00' --user $B
| | | | |  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| | | | |  +        --date '2000-02-01 14:00' --user $B
| | | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| | | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| | | | |  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| | | | |  +        --date '2000-05-10 4:23' --user $A
| | | | |  +    cat chgrepo.zsh | grep 'd' > dlines.lst
| | | | |  +    hg commit -A -m 'Added dlines.lst' \
| | | | |  +        --date '2000-11-01 13:24' --user $B
| | | | |  +    hg commit -A -m 'Added alines.lst' \
| | | | |  +        --date '2000-11-02 5:44' --user $A
| | | | |  +    hg commit -A -m 'Added ablines.lst' \
| | | | |  +        --date '2000-11-02 14:13' --user $B
| | | | |  +        --date '2000-11-02 14:14' --user $B
| | | | |  +    hg update default
| | | | |  +        --date '2001-01-01 00:00' --user $C
| | | | |  +    hg update C
| | | | |  +    hg commit -A -m 'Added blines.lst' \
| | | | |  +        --date '2001-02-01 05:18' --user $A
| | | | |  +        --date '2001-02-01 05:19' --user $A
| | | | |  +    hg update -r -2
| | | | |  +    hg commit -A -m 'Added clines.lst' \
| | | | |  +        --date '2001-02-01 14:56' --user $B
| | | | |  +        --date '2001-02-01 14:56:52' --user $B
| | | | |  +    hg update A
| | | | |  +        --date '2002-01-01 00:00' --user $C
| | | | |  +        --date '2002-01-01 00:00:15' --user $C
| | | | |  +    hg update default
| | | | |  +        --date '2002-01-01 00:00:30' --user $C
| | | | |  +        --date '2002-01-01 00:00:45' --user $C
| | | | |  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
| | | | |  +        --date '2002-02-10 05:00' --user $A
| | | | |  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| | | | |  +    hg commit -A -m 'Added nohglines.lst' \
| | | | |  +        --date '2002-02-10 15:33' --user $B
| | | | |  +    hg commit -A -m 'Added nohglinesrev.lst' \
| | | | |  +        --date '2002-02-10 16:01' --user $B
| | | | |  +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
| | | | |  +    hg commit -A -m 'Added ignored10.lst' \
| | | | |  +        --date '2002-02-11 03:15' --user $A
| | | | |  +    echo $'syntax: glob\nignored*' > .hgignore
| | | | |  +    hg commit -A -m 'Added .hgignore' \
| | | | |  +        --date '2002-02-11 05:43' --user $A
| | | | |  +    echo 'Def' > addeddef && hg add addeddef
| | | | |  +    echo 'Abc' > ignoredabc
| | | | |  
| | o | |  diff -r c06107b7bcbe -r 250ba7cd831e .hgtags
| |/ / /   --- /dev/null
| | | |    +++ b/.hgtags
| | | |    @@ -0,0 +1,1 @@
| | | |    +c06107b7bcbe751d2dd40faf4179ee7d6aac44ac ablines
| | | |    
| o---+  diff -r 9fe0c28c3e1d -r c06107b7bcbe ablines.lst
|   | |  --- /dev/null
|  / /   +++ b/ablines.lst
| | |    @@ -0,0 +1,13 @@
| | |    +local B='B <b@example.org>'
| | |    +    hg branch A
| | |    +    hg branch B
| | |    +    hg branch C
| | |    +    cat alines.lst | grep 'b' > ablines.lst
| | |    +    hg commit -A -m 'Added ablines.lst' \
| | |    +    hg tag ablines \
| | |    +    hg merge -r ablines
| | |    +    cat chgrepo.zsh | grep 'b' > blines.lst
| | |    +    hg tag blines \
| | |    +    echo $'syntax: glob\nignored*' > .hgignore
| | |    +    echo abc >> nohglinesrev.lst
| | |    +    echo 'Abc' > ignoredabc
| | |    
| | o  diff -r d760b0fe4fe4 -r 9fe0c28c3e1d alines.lst
| |/   --- /dev/null
| |    +++ b/alines.lst
| |    @@ -0,0 +1,64 @@
| |    +emulate -L zsh
| |    +local A='A <a@example.com>'
| |    +local B='B <b@example.org>'
| |    +local C='C <c@example.gov>'
| |    +    cp ../createrepo.zsh .
| |    +    # XXX Date test will work only till 2099
| |    +    hg commit -A -m 'Added «createrepo.zsh»' \
| |    +        --date '1999-01-02 5:20' --user $A
| |    +    hg mv createrepo.zsh crepo.zsh
| |    +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
| |    +        --date '2000-01-05 7:30' --user $A
| |    +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
| |    +        --date '2000-01-15 15:00' --user $B
| |    +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
| |    +        --date '2000-02-01 14:00' --user $B
| |    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
| |    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
| |    +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
| |    +        --date '2000-05-10 4:23' --user $A
| |    +    hg branch A
| |    +    cat chgrepo.zsh | grep 'd' > dlines.lst
| |    +        --date '2000-11-01 13:24' --user $B
| |    +    hg branch B
| |    +    cat chgrepo.zsh | grep 'a' > alines.lst
| |    +    hg commit -A -m 'Added alines.lst' \
| |    +        --date '2000-11-02 5:44' --user $A
| |    +    hg branch C
| |    +    cat alines.lst | grep 'b' > ablines.lst
| |    +    hg commit -A -m 'Added ablines.lst' \
| |    +        --date '2000-11-02 14:13' --user $B
| |    +    hg tag ablines \
| |    +        --date '2000-11-02 14:14' --user $B
| |    +    hg update default
| |    +    hg merge -r ablines
| |    +        --date '2001-01-01 00:00' --user $C
| |    +    hg update C
| |    +    cat chgrepo.zsh | grep 'b' > blines.lst
| |    +        --date '2001-02-01 05:18' --user $A
| |    +    hg tag blines \
| |    +        --date '2001-02-01 05:19' --user $A
| |    +    hg update -r -2
| |    +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
| |    +        --date '2001-02-01 14:56' --user $B
| |    +    hg tag clines \
| |    +        --date '2001-02-01 14:56:52' --user $B
| |    +    hg update A
| |    +        --date '2002-01-01 00:00' --user $C
| |    +        --date '2002-01-01 00:00:15' --user $C
| |    +    hg update default
| |    +        --date '2002-01-01 00:00:30' --user $C
| |    +        --date '2002-01-01 00:00:45' --user $C
| |    +        --date '2002-02-10 05:00' --user $A
| |    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
| |    +        --date '2002-02-10 15:33' --user $B
| |    +    cat nohglines.lst | rev > nohglinesrev.lst
| |    +        --date '2002-02-10 16:01' --user $B
| |    +        --date '2002-02-11 03:15' --user $A
| |    +    echo $'syntax: glob\nignored*' > .hgignore
| |    +        --date '2002-02-11 05:43' --user $A
| |    +    echo abc >> nohglinesrev.lst
| |    +    echo 'Def' > addeddef && hg add addeddef
| |    +    cat hglines.lst | rev > hglinesrev.lst
| |    +    echo 'Abc' > ignoredabc
| |    +tar cJf testrepo.tar.xz testrepo
| |    
| o  diff -r 7e16e7cbaf9e -r d760b0fe4fe4 dlines.lst
|/   --- /dev/null
|    +++ b/dlines.lst
|    @@ -0,0 +1,52 @@
|    +    cd testrepo
|    +    hg commit -A -m 'Added «createrepo.zsh»' \
|    +        --date '1999-01-02 5:20' --user $A
|    +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|    +        --date '2000-01-05 7:30' --user $A
|    +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
|    +        --date '2000-01-15 15:00' --user $B
|    +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|    +        --date '2000-02-01 14:00' --user $B
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|    +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|    +        --date '2000-05-10 4:23' --user $A
|    +    cat chgrepo.zsh | grep 'd' > dlines.lst
|    +    hg commit -A -m 'Added dlines.lst' \
|    +        --date '2000-11-01 13:24' --user $B
|    +    hg commit -A -m 'Added alines.lst' \
|    +        --date '2000-11-02 5:44' --user $A
|    +    hg commit -A -m 'Added ablines.lst' \
|    +        --date '2000-11-02 14:13' --user $B
|    +        --date '2000-11-02 14:14' --user $B
|    +    hg update default
|    +        --date '2001-01-01 00:00' --user $C
|    +    hg update C
|    +    hg commit -A -m 'Added blines.lst' \
|    +        --date '2001-02-01 05:18' --user $A
|    +        --date '2001-02-01 05:19' --user $A
|    +    hg update -r -2
|    +    hg commit -A -m 'Added clines.lst' \
|    +        --date '2001-02-01 14:56' --user $B
|    +        --date '2001-02-01 14:56:52' --user $B
|    +    hg update A
|    +        --date '2002-01-01 00:00' --user $C
|    +        --date '2002-01-01 00:00:15' --user $C
|    +    hg update default
|    +        --date '2002-01-01 00:00:30' --user $C
|    +        --date '2002-01-01 00:00:45' --user $C
|    +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|    +        --date '2002-02-10 05:00' --user $A
|    +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|    +    hg commit -A -m 'Added nohglines.lst' \
|    +        --date '2002-02-10 15:33' --user $B
|    +    hg commit -A -m 'Added nohglinesrev.lst' \
|    +        --date '2002-02-10 16:01' --user $B
|    +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
|    +    hg commit -A -m 'Added ignored10.lst' \
|    +        --date '2002-02-11 03:15' --user $A
|    +    echo $'syntax: glob\nignored*' > .hgignore
|    +    hg commit -A -m 'Added .hgignore' \
|    +        --date '2002-02-11 05:43' --user $A
|    +    echo 'Def' > addeddef && hg add addeddef
|    +    echo 'Abc' > ignoredabc
|    
o  diff -r a16a47a8d7aa -r 7e16e7cbaf9e datelines.lst
|  --- /dev/null
|  +++ b/datelines.lst
|  @@ -0,0 +1,41 @@
|  +    hg init testrepo
|  +    hg commit -A -m 'Added «createrepo.zsh»' \
|  +    hg mv createrepo.zsh crepo.zsh
|  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
|  +    hg mv crepo.zsh chgrepo.zsh
|  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|  +    hg branch A
|  +    hg commit -A -m 'Added dlines.lst' \
|  +    hg branch B
|  +    hg commit -A -m 'Added alines.lst' \
|  +    hg branch C
|  +    hg commit -A -m 'Added ablines.lst' \
|  +    hg tag ablines \
|  +    hg update default
|  +    hg merge -r ablines
|  +    hg commit -m 'Merge from C' \
|  +    hg update C
|  +    hg commit -A -m 'Added blines.lst' \
|  +    hg tag blines \
|  +    hg update -r -2
|  +    hg commit -A -m 'Added clines.lst' \
|  +    hg tag clines \
|  +    hg update A
|  +    hg merge -r B
|  +    hg commit -m 'Merge from B' \
|  +    hg merge -r clines
|  +    hg commit -m 'Merge from C:2' \
|  +    hg update default
|  +    hg merge -r blines
|  +    hg commit -m 'Merge from C:1' \
|  +    hg merge -r A
|  +    hg commit -m 'Merge from A' \
|  +    hg cp hglines.lst hglines2.lst
|  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|  +    hg commit -A -m 'Added nohglines.lst' \
|  +    hg commit -A -m 'Added nohglinesrev.lst' \
|  +    hg commit -A -m 'Added ignored10.lst' \
|  +    hg commit -A -m 'Added .hgignore' \
|  +    hg rm hglines2.lst
|  diff -r a16a47a8d7aa -r 7e16e7cbaf9e hglines.lst
|  --- /dev/null
|  +++ b/hglines.lst
|  @@ -0,0 +1,41 @@
|  +    hg init testrepo
|  +    hg commit -A -m 'Added «createrepo.zsh»' \
|  +    hg mv createrepo.zsh crepo.zsh
|  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
|  +    hg mv crepo.zsh chgrepo.zsh
|  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|  +    hg branch A
|  +    hg commit -A -m 'Added dlines.lst' \
|  +    hg branch B
|  +    hg commit -A -m 'Added alines.lst' \
|  +    hg branch C
|  +    hg commit -A -m 'Added ablines.lst' \
|  +    hg tag ablines \
|  +    hg update default
|  +    hg merge -r ablines
|  +    hg commit -m 'Merge from C' \
|  +    hg update C
|  +    hg commit -A -m 'Added blines.lst' \
|  +    hg tag blines \
|  +    hg update -r -2
|  +    hg commit -A -m 'Added clines.lst' \
|  +    hg tag clines \
|  +    hg update A
|  +    hg merge -r B
|  +    hg commit -m 'Merge from B' \
|  +    hg merge -r clines
|  +    hg commit -m 'Merge from C:2' \
|  +    hg update default
|  +    hg merge -r blines
|  +    hg commit -m 'Merge from C:1' \
|  +    hg merge -r A
|  +    hg commit -m 'Merge from A' \
|  +    hg cp hglines.lst hglines2.lst
|  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|  +    hg commit -A -m 'Added nohglines.lst' \
|  +    hg commit -A -m 'Added nohglinesrev.lst' \
|  +    hg commit -A -m 'Added ignored10.lst' \
|  +    hg commit -A -m 'Added .hgignore' \
|  +    hg rm hglines2.lst
|  
o  diff -r 5a6a1bf999fa -r a16a47a8d7aa chgrepo.zsh
|  --- /dev/null
|  +++ b/chgrepo.zsh
|  @@ -0,0 +1,94 @@
|  +#!/bin/zsh
|  +emulate -L zsh
|  +set -e
|  +local A='A <a@example.com>'
|  +local B='B <b@example.org>'
|  +local C='C <c@example.gov>'
|  +{
|  +    set -e
|  +    hg init testrepo
|  +    cd testrepo
|  +    cp ../createrepo.zsh .
|  +    # XXX Date test will work only till 2099
|  +    hg commit -A -m 'Added «createrepo.zsh»' \
|  +        --date '1999-01-02 5:20' --user $A
|  +    hg mv createrepo.zsh crepo.zsh
|  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|  +        --date '2000-01-05 7:30' --user $A
|  +    perl -p -i -e 'tr/{}/{}/' crepo.zsh
|  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
|  +        --date '2000-01-15 15:00' --user $B
|  +    hg mv crepo.zsh chgrepo.zsh
|  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|  +        --date '2000-02-01 14:00' --user $B
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|  +        --date '2000-05-10 4:23' --user $A
|  +    hg branch A
|  +    cat chgrepo.zsh | grep 'd' > dlines.lst
|  +    hg commit -A -m 'Added dlines.lst' \
|  +        --date '2000-11-01 13:24' --user $B
|  +    hg branch B
|  +    cat chgrepo.zsh | grep 'a' > alines.lst
|  +    hg commit -A -m 'Added alines.lst' \
|  +        --date '2000-11-02 5:44' --user $A
|  +    hg branch C
|  +    cat alines.lst | grep 'b' > ablines.lst
|  +    hg commit -A -m 'Added ablines.lst' \
|  +        --date '2000-11-02 14:13' --user $B
|  +    hg tag ablines \
|  +        --date '2000-11-02 14:14' --user $B
|  +    hg update default
|  +    hg merge -r ablines
|  +    hg commit -m 'Merge from C' \
|  +        --date '2001-01-01 00:00' --user $C
|  +    hg update C
|  +    cat chgrepo.zsh | grep 'b' > blines.lst
|  +    hg commit -A -m 'Added blines.lst' \
|  +        --date '2001-02-01 05:18' --user $A
|  +    hg tag blines \
|  +        --date '2001-02-01 05:19' --user $A
|  +    hg update -r -2
|  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
|  +    hg commit -A -m 'Added clines.lst' \
|  +        --date '2001-02-01 14:56' --user $B
|  +    hg tag clines \
|  +        --date '2001-02-01 14:56:52' --user $B
|  +    hg update A
|  +    hg merge -r B
|  +    hg commit -m 'Merge from B' \
|  +        --date '2002-01-01 00:00' --user $C
|  +    hg merge -r clines
|  +    hg commit -m 'Merge from C:2' \
|  +        --date '2002-01-01 00:00:15' --user $C
|  +    hg update default
|  +    hg merge -r blines
|  +    hg commit -m 'Merge from C:1' \
|  +        --date '2002-01-01 00:00:30' --user $C
|  +    hg merge -r A
|  +    hg commit -m 'Merge from A' \
|  +        --date '2002-01-01 00:00:45' --user $C
|  +    hg cp hglines.lst hglines2.lst
|  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|  +        --date '2002-02-10 05:00' --user $A
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|  +    hg commit -A -m 'Added nohglines.lst' \
|  +        --date '2002-02-10 15:33' --user $B
|  +    cat nohglines.lst | rev > nohglinesrev.lst
|  +    hg commit -A -m 'Added nohglinesrev.lst' \
|  +        --date '2002-02-10 16:01' --user $B
|  +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
|  +    hg commit -A -m 'Added ignored10.lst' \
|  +        --date '2002-02-11 03:15' --user $A
|  +    echo $'syntax: glob\nignored*' > .hgignore
|  +    hg commit -A -m 'Added .hgignore' \
|  +        --date '2002-02-11 05:43' --user $A
|  +    echo abc >> nohglinesrev.lst
|  +    echo 'Def' > addeddef && hg add addeddef
|  +    hg rm hglines2.lst
|  +    rm nohglines.lst
|  +    cat hglines.lst | rev > hglinesrev.lst
|  +    echo 'Abc' > ignoredabc
|  +}
|  +tar cJf testrepo.tar.xz testrepo
|  diff -r 5a6a1bf999fa -r a16a47a8d7aa crepo.zsh
|  --- a/crepo.zsh
|  +++ /dev/null
|  @@ -1,94 +0,0 @@
|  -#!/bin/zsh
|  -emulate -L zsh
|  -set -e
|  -local A='A <a@example.com>'
|  -local B='B <b@example.org>'
|  -local C='C <c@example.gov>'
|  -{
|  -    set -e
|  -    hg init testrepo
|  -    cd testrepo
|  -    cp ../createrepo.zsh .
|  -    # XXX Date test will work only till 2099
|  -    hg commit -A -m 'Added «createrepo.zsh»' \
|  -        --date '1999-01-02 5:20' --user $A
|  -    hg mv createrepo.zsh crepo.zsh
|  -    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|  -        --date '2000-01-05 7:30' --user $A
|  -    perl -p -i -e 'tr/{}/{}/' crepo.zsh
|  -    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
|  -        --date '2000-01-15 15:00' --user $B
|  -    hg mv crepo.zsh chgrepo.zsh
|  -    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|  -        --date '2000-02-01 14:00' --user $B
|  -    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|  -    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|  -    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|  -        --date '2000-05-10 4:23' --user $A
|  -    hg branch A
|  -    cat chgrepo.zsh | grep 'd' > dlines.lst
|  -    hg commit -A -m 'Added dlines.lst' \
|  -        --date '2000-11-01 13:24' --user $B
|  -    hg branch B
|  -    cat chgrepo.zsh | grep 'a' > alines.lst
|  -    hg commit -A -m 'Added alines.lst' \
|  -        --date '2000-11-02 5:44' --user $A
|  -    hg branch C
|  -    cat alines.lst | grep 'b' > ablines.lst
|  -    hg commit -A -m 'Added ablines.lst' \
|  -        --date '2000-11-02 14:13' --user $B
|  -    hg tag ablines \
|  -        --date '2000-11-02 14:14' --user $B
|  -    hg update default
|  -    hg merge -r ablines
|  -    hg commit -m 'Merge from C' \
|  -        --date '2001-01-01 00:00' --user $C
|  -    hg update C
|  -    cat chgrepo.zsh | grep 'b' > blines.lst
|  -    hg commit -A -m 'Added blines.lst' \
|  -        --date '2001-02-01 05:18' --user $A
|  -    hg tag blines \
|  -        --date '2001-02-01 05:19' --user $A
|  -    hg update -r -2
|  -    cat chgrepo.zsh | sort | grep 'c' > clines.lst
|  -    hg commit -A -m 'Added clines.lst' \
|  -        --date '2001-02-01 14:56' --user $B
|  -    hg tag clines \
|  -        --date '2001-02-01 14:56:52' --user $B
|  -    hg update A
|  -    hg merge -r B
|  -    hg commit -m 'Merge from B' \
|  -        --date '2002-01-01 00:00' --user $C
|  -    hg merge -r clines
|  -    hg commit -m 'Merge from C:2' \
|  -        --date '2002-01-01 00:00:15' --user $C
|  -    hg update default
|  -    hg merge -r blines
|  -    hg commit -m 'Merge from C:1' \
|  -        --date '2002-01-01 00:00:30' --user $C
|  -    hg merge -r A
|  -    hg commit -m 'Merge from A' \
|  -        --date '2002-01-01 00:00:45' --user $C
|  -    hg cp hglines.lst hglines2.lst
|  -    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|  -        --date '2002-02-10 05:00' --user $A
|  -    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|  -    hg commit -A -m 'Added nohglines.lst' \
|  -        --date '2002-02-10 15:33' --user $B
|  -    cat nohglines.lst | rev > nohglinesrev.lst
|  -    hg commit -A -m 'Added nohglinesrev.lst' \
|  -        --date '2002-02-10 16:01' --user $B
|  -    seq 1 10 | tr ' ' $'\n' > ignored10.lst
|  -    hg commit -A -m 'Added ignored10.lst' \
|  -        --date '2002-02-11 03:15' --user $A
|  -    echo $'syntax: glob\nignored*' > .hgignore
|  -    hg commit -A -m 'Added .hgignore' \
|  -        --date '2002-02-11 05:43' --user $A
|  -    echo abc >> nohglinesrev.lst
|  -    echo 'Def' > addeddef && hg add addeddef
|  -    hg rm hglines2.lst
|  -    rm nohglines.lst
|  -    cat hglines.lst | rev > hglinesrev.lst
|  -    echo 'Abc' > ignoredabc
|  -}
|  -tar cJf testrepo.tar.xz testrepo
|  
o  diff -r dfe39aa48c6d -r 5a6a1bf999fa crepo.zsh
|  --- a/crepo.zsh
|  +++ b/crepo.zsh
|  @@ -4,7 +4,7 @@
|   local A='A <a@example.com>'
|   local B='B <b@example.org>'
|   local C='C <c@example.gov>'
|  -(
|  +{
|       set -e
|       hg init testrepo
|       cd testrepo
|  @@ -15,8 +15,8 @@
|       hg mv createrepo.zsh crepo.zsh
|       hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|           --date '2000-01-05 7:30' --user $A
|  -    perl -p -i -e 'tr/()/{}/' crepo.zsh
|  -    hg commit -m $'Replaced\n    (\n        ...\n    )\nwith\n    {\n        ...\n    }' \
|  +    perl -p -i -e 'tr/{}/{}/' crepo.zsh
|  +    hg commit -m $'Replaced\n    {\n        ...\n    }\nwith\n    {\n        ...\n    }' \
|           --date '2000-01-15 15:00' --user $B
|       hg mv crepo.zsh chgrepo.zsh
|       hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|  @@ -90,5 +90,5 @@
|       rm nohglines.lst
|       cat hglines.lst | rev > hglinesrev.lst
|       echo 'Abc' > ignoredabc
|  -)
|  +}
|   tar cJf testrepo.tar.xz testrepo
|  
o  diff -r 99ea42d70fbe -r dfe39aa48c6d createrepo.zsh
|  --- a/createrepo.zsh
|  +++ /dev/null
|  @@ -1,94 +0,0 @@
|  -#!/bin/zsh
|  -emulate -L zsh
|  -set -e
|  -local A='A <a@example.com>'
|  -local B='B <b@example.org>'
|  -local C='C <c@example.gov>'
|  -(
|  -    set -e
|  -    hg init testrepo
|  -    cd testrepo
|  -    cp ../createrepo.zsh .
|  -    # XXX Date test will work only till 2099
|  -    hg commit -A -m 'Added «createrepo.zsh»' \
|  -        --date '1999-01-02 5:20' --user $A
|  -    hg mv createrepo.zsh crepo.zsh
|  -    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|  -        --date '2000-01-05 7:30' --user $A
|  -    perl -p -i -e 'tr/()/{}/' crepo.zsh
|  -    hg commit -m $'Replaced\n    (\n        ...\n    )\nwith\n    {\n        ...\n    }' \
|  -        --date '2000-01-15 15:00' --user $B
|  -    hg mv crepo.zsh chgrepo.zsh
|  -    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|  -        --date '2000-02-01 14:00' --user $B
|  -    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|  -    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|  -    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|  -        --date '2000-05-10 4:23' --user $A
|  -    hg branch A
|  -    cat chgrepo.zsh | grep 'd' > dlines.lst
|  -    hg commit -A -m 'Added dlines.lst' \
|  -        --date '2000-11-01 13:24' --user $B
|  -    hg branch B
|  -    cat chgrepo.zsh | grep 'a' > alines.lst
|  -    hg commit -A -m 'Added alines.lst' \
|  -        --date '2000-11-02 5:44' --user $A
|  -    hg branch C
|  -    cat alines.lst | grep 'b' > ablines.lst
|  -    hg commit -A -m 'Added ablines.lst' \
|  -        --date '2000-11-02 14:13' --user $B
|  -    hg tag ablines \
|  -        --date '2000-11-02 14:14' --user $B
|  -    hg update default
|  -    hg merge -r ablines
|  -    hg commit -m 'Merge from C' \
|  -        --date '2001-01-01 00:00' --user $C
|  -    hg update C
|  -    cat chgrepo.zsh | grep 'b' > blines.lst
|  -    hg commit -A -m 'Added blines.lst' \
|  -        --date '2001-02-01 05:18' --user $A
|  -    hg tag blines \
|  -        --date '2001-02-01 05:19' --user $A
|  -    hg update -r -2
|  -    cat chgrepo.zsh | sort | grep 'c' > clines.lst
|  -    hg commit -A -m 'Added clines.lst' \
|  -        --date '2001-02-01 14:56' --user $B
|  -    hg tag clines \
|  -        --date '2001-02-01 14:56:52' --user $B
|  -    hg update A
|  -    hg merge -r B
|  -    hg commit -m 'Merge from B' \
|  -        --date '2002-01-01 00:00' --user $C
|  -    hg merge -r clines
|  -    hg commit -m 'Merge from C:2' \
|  -        --date '2002-01-01 00:00:15' --user $C
|  -    hg update default
|  -    hg merge -r blines
|  -    hg commit -m 'Merge from C:1' \
|  -        --date '2002-01-01 00:00:30' --user $C
|  -    hg merge -r A
|  -    hg commit -m 'Merge from A' \
|  -        --date '2002-01-01 00:00:45' --user $C
|  -    hg cp hglines.lst hglines2.lst
|  -    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|  -        --date '2002-02-10 05:00' --user $A
|  -    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|  -    hg commit -A -m 'Added nohglines.lst' \
|  -        --date '2002-02-10 15:33' --user $B
|  -    cat nohglines.lst | rev > nohglinesrev.lst
|  -    hg commit -A -m 'Added nohglinesrev.lst' \
|  -        --date '2002-02-10 16:01' --user $B
|  -    seq 1 10 | tr ' ' $'\n' > ignored10.lst
|  -    hg commit -A -m 'Added ignored10.lst' \
|  -        --date '2002-02-11 03:15' --user $A
|  -    echo $'syntax: glob\nignored*' > .hgignore
|  -    hg commit -A -m 'Added .hgignore' \
|  -        --date '2002-02-11 05:43' --user $A
|  -    echo abc >> nohglinesrev.lst
|  -    echo 'Def' > addeddef && hg add addeddef
|  -    hg rm hglines2.lst
|  -    rm nohglines.lst
|  -    cat hglines.lst | rev > hglinesrev.lst
|  -    echo 'Abc' > ignoredabc
|  -)
|  -tar cJf testrepo.tar.xz testrepo
|  diff -r 99ea42d70fbe -r dfe39aa48c6d crepo.zsh
|  --- /dev/null
|  +++ b/crepo.zsh
|  @@ -0,0 +1,94 @@
|  +#!/bin/zsh
|  +emulate -L zsh
|  +set -e
|  +local A='A <a@example.com>'
|  +local B='B <b@example.org>'
|  +local C='C <c@example.gov>'
|  +(
|  +    set -e
|  +    hg init testrepo
|  +    cd testrepo
|  +    cp ../createrepo.zsh .
|  +    # XXX Date test will work only till 2099
|  +    hg commit -A -m 'Added «createrepo.zsh»' \
|  +        --date '1999-01-02 5:20' --user $A
|  +    hg mv createrepo.zsh crepo.zsh
|  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|  +        --date '2000-01-05 7:30' --user $A
|  +    perl -p -i -e 'tr/()/{}/' crepo.zsh
|  +    hg commit -m $'Replaced\n    (\n        ...\n    )\nwith\n    {\n        ...\n    }' \
|  +        --date '2000-01-15 15:00' --user $B
|  +    hg mv crepo.zsh chgrepo.zsh
|  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|  +        --date '2000-02-01 14:00' --user $B
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|  +        --date '2000-05-10 4:23' --user $A
|  +    hg branch A
|  +    cat chgrepo.zsh | grep 'd' > dlines.lst
|  +    hg commit -A -m 'Added dlines.lst' \
|  +        --date '2000-11-01 13:24' --user $B
|  +    hg branch B
|  +    cat chgrepo.zsh | grep 'a' > alines.lst
|  +    hg commit -A -m 'Added alines.lst' \
|  +        --date '2000-11-02 5:44' --user $A
|  +    hg branch C
|  +    cat alines.lst | grep 'b' > ablines.lst
|  +    hg commit -A -m 'Added ablines.lst' \
|  +        --date '2000-11-02 14:13' --user $B
|  +    hg tag ablines \
|  +        --date '2000-11-02 14:14' --user $B
|  +    hg update default
|  +    hg merge -r ablines
|  +    hg commit -m 'Merge from C' \
|  +        --date '2001-01-01 00:00' --user $C
|  +    hg update C
|  +    cat chgrepo.zsh | grep 'b' > blines.lst
|  +    hg commit -A -m 'Added blines.lst' \
|  +        --date '2001-02-01 05:18' --user $A
|  +    hg tag blines \
|  +        --date '2001-02-01 05:19' --user $A
|  +    hg update -r -2
|  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
|  +    hg commit -A -m 'Added clines.lst' \
|  +        --date '2001-02-01 14:56' --user $B
|  +    hg tag clines \
|  +        --date '2001-02-01 14:56:52' --user $B
|  +    hg update A
|  +    hg merge -r B
|  +    hg commit -m 'Merge from B' \
|  +        --date '2002-01-01 00:00' --user $C
|  +    hg merge -r clines
|  +    hg commit -m 'Merge from C:2' \
|  +        --date '2002-01-01 00:00:15' --user $C
|  +    hg update default
|  +    hg merge -r blines
|  +    hg commit -m 'Merge from C:1' \
|  +        --date '2002-01-01 00:00:30' --user $C
|  +    hg merge -r A
|  +    hg commit -m 'Merge from A' \
|  +        --date '2002-01-01 00:00:45' --user $C
|  +    hg cp hglines.lst hglines2.lst
|  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|  +        --date '2002-02-10 05:00' --user $A
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|  +    hg commit -A -m 'Added nohglines.lst' \
|  +        --date '2002-02-10 15:33' --user $B
|  +    cat nohglines.lst | rev > nohglinesrev.lst
|  +    hg commit -A -m 'Added nohglinesrev.lst' \
|  +        --date '2002-02-10 16:01' --user $B
|  +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
|  +    hg commit -A -m 'Added ignored10.lst' \
|  +        --date '2002-02-11 03:15' --user $A
|  +    echo $'syntax: glob\nignored*' > .hgignore
|  +    hg commit -A -m 'Added .hgignore' \
|  +        --date '2002-02-11 05:43' --user $A
|  +    echo abc >> nohglinesrev.lst
|  +    echo 'Def' > addeddef && hg add addeddef
|  +    hg rm hglines2.lst
|  +    rm nohglines.lst
|  +    cat hglines.lst | rev > hglinesrev.lst
|  +    echo 'Abc' > ignoredabc
|  +)
|  +tar cJf testrepo.tar.xz testrepo
|  
o  diff -r 000000000000 -r 99ea42d70fbe createrepo.zsh
|  --- /dev/null
|  +++ b/createrepo.zsh
|  @@ -0,0 +1,94 @@
|  +#!/bin/zsh
|  +emulate -L zsh
|  +set -e
|  +local A='A <a@example.com>'
|  +local B='B <b@example.org>'
|  +local C='C <c@example.gov>'
|  +(
|  +    set -e
|  +    hg init testrepo
|  +    cd testrepo
|  +    cp ../createrepo.zsh .
|  +    # XXX Date test will work only till 2099
|  +    hg commit -A -m 'Added «createrepo.zsh»' \
|  +        --date '1999-01-02 5:20' --user $A
|  +    hg mv createrepo.zsh crepo.zsh
|  +    hg commit -A -m 'Renamed «createrepo.zsh» to «crepo.zsh»' \
|  +        --date '2000-01-05 7:30' --user $A
|  +    perl -p -i -e 'tr/()/{}/' crepo.zsh
|  +    hg commit -m $'Replaced\n    (\n        ...\n    )\nwith\n    {\n        ...\n    }' \
|  +        --date '2000-01-15 15:00' --user $B
|  +    hg mv crepo.zsh chgrepo.zsh
|  +    hg commit -A -m 'Renamed «crepo.zsh» to «chgrepo.zsh»' \
|  +        --date '2000-02-01 14:00' --user $B
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > hglines.lst
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ unless /^    hg /' > datelines.lst
|  +    hg commit -A -m 'Added «hglines.lst» and «datelines.lst»' \
|  +        --date '2000-05-10 4:23' --user $A
|  +    hg branch A
|  +    cat chgrepo.zsh | grep 'd' > dlines.lst
|  +    hg commit -A -m 'Added dlines.lst' \
|  +        --date '2000-11-01 13:24' --user $B
|  +    hg branch B
|  +    cat chgrepo.zsh | grep 'a' > alines.lst
|  +    hg commit -A -m 'Added alines.lst' \
|  +        --date '2000-11-02 5:44' --user $A
|  +    hg branch C
|  +    cat alines.lst | grep 'b' > ablines.lst
|  +    hg commit -A -m 'Added ablines.lst' \
|  +        --date '2000-11-02 14:13' --user $B
|  +    hg tag ablines \
|  +        --date '2000-11-02 14:14' --user $B
|  +    hg update default
|  +    hg merge -r ablines
|  +    hg commit -m 'Merge from C' \
|  +        --date '2001-01-01 00:00' --user $C
|  +    hg update C
|  +    cat chgrepo.zsh | grep 'b' > blines.lst
|  +    hg commit -A -m 'Added blines.lst' \
|  +        --date '2001-02-01 05:18' --user $A
|  +    hg tag blines \
|  +        --date '2001-02-01 05:19' --user $A
|  +    hg update -r -2
|  +    cat chgrepo.zsh | sort | grep 'c' > clines.lst
|  +    hg commit -A -m 'Added clines.lst' \
|  +        --date '2001-02-01 14:56' --user $B
|  +    hg tag clines \
|  +        --date '2001-02-01 14:56:52' --user $B
|  +    hg update A
|  +    hg merge -r B
|  +    hg commit -m 'Merge from B' \
|  +        --date '2002-01-01 00:00' --user $C
|  +    hg merge -r clines
|  +    hg commit -m 'Merge from C:2' \
|  +        --date '2002-01-01 00:00:15' --user $C
|  +    hg update default
|  +    hg merge -r blines
|  +    hg commit -m 'Merge from C:1' \
|  +        --date '2002-01-01 00:00:30' --user $C
|  +    hg merge -r A
|  +    hg commit -m 'Merge from A' \
|  +        --date '2002-01-01 00:00:45' --user $C
|  +    hg cp hglines.lst hglines2.lst
|  +    hg commit -A -m 'Copied “hglines.lst” to “hglines2.lst”' \
|  +        --date '2002-02-10 05:00' --user $A
|  +    cat chgrepo.zsh | perl -p -i -e 'undef $_ if /^    hg /' > nohglines.lst
|  +    hg commit -A -m 'Added nohglines.lst' \
|  +        --date '2002-02-10 15:33' --user $B
|  +    cat nohglines.lst | rev > nohglinesrev.lst
|  +    hg commit -A -m 'Added nohglinesrev.lst' \
|  +        --date '2002-02-10 16:01' --user $B
|  +    seq 1 10 | tr ' ' $'\n' > ignored10.lst
|  +    hg commit -A -m 'Added ignored10.lst' \
|  +        --date '2002-02-11 03:15' --user $A
|  +    echo $'syntax: glob\nignored*' > .hgignore
|  +    hg commit -A -m 'Added .hgignore' \
|  +        --date '2002-02-11 05:43' --user $A
|  +    echo abc >> nohglinesrev.lst
|  +    echo 'Def' > addeddef && hg add addeddef
|  +    hg rm hglines2.lst
|  +    rm nohglines.lst
|  +    cat hglines.lst | rev > hglinesrev.lst
|  +    echo 'Abc' > ignoredabc
|  +)
|  +tar cJf testrepo.tar.xz testrepo
|  
{{{1 parent: $parents_
@  parent: d8140c0b7b0b670bafe0891bcf0c4582092de884
|  
o    parent: e021c634413b240b8c834a85200acc28d645f1f1
|\   parent: e1eaeea486e48634588c778fd36a81ac5c8869a6
o |  parent: 5afd628b0861f6447ed813895d5ced58a1c42a72
| |  
| o  parent: 5afd628b0861f6447ed813895d5ced58a1c42a72
|/   
o  parent: e85aa09aab1621b59b8be37f723410b219c8599c
|  
o  parent: 67cf252de26b12da6769114cc89b793357f5a46a
|  
o  parent: 456e0b05b81af4f332405336f11df4769ec9f250
|  
o  parent: f44a21859e57e4abc6155da804d08dd5069e798e
|  
o  parent: e5648a3eea574f3fc03709b4fdd799a38f649edd
|  
o    parent: 462a1e95be86f96aaf6d7360f6f770826c3eb641
|\   parent: be92227e3e43f4e7402408afe110098d209d2568
o \    parent: 269399222040415b3928a316f5d28792cc0be4dd
|\ \   parent: c4110a066208167dae46b08f4e0d8d2b37e842f3
| | o    parent: 5e2f73d0c01dfb8ee0d3577e03d016a5f6df58b1
| | |\   parent: 023aa55bd8062179ce36adbdd78363e9b88718c1
| | o \    parent: d760b0fe4fe45adf585f5030181b8081899e26a9
| | |\ \   parent: 9fe0c28c3e1dd175e8372b742f13cbb7bd6799fe
| | | | | o  parent: 023aa55bd8062179ce36adbdd78363e9b88718c1
| | | | |/   
| +-----o  parent: c4110a066208167dae46b08f4e0d8d2b37e842f3
| | | |    
| +-----o  parent: c4110a066208167dae46b08f4e0d8d2b37e842f3
| | | |    
| o | |  parent: 250ba7cd831ee91c3ba5bef1faebc38c5dbca5f8
| | | |  
o | | |    parent: 7e16e7cbaf9ec5b0e65832bc6f057ba825c38cac
|\ \ \ \   parent: c06107b7bcbe751d2dd40faf4179ee7d6aac44ac
| | o | |  parent: c06107b7bcbe751d2dd40faf4179ee7d6aac44ac
| |/ / /   
| o---+  parent: 9fe0c28c3e1dd175e8372b742f13cbb7bd6799fe
|  / /   
| | o  parent: d760b0fe4fe45adf585f5030181b8081899e26a9
| |/   
| o  parent: 7e16e7cbaf9ec5b0e65832bc6f057ba825c38cac
|/   
o  parent: a16a47a8d7aafc115651bfee6f1202093765365d
|  
o  parent: 5a6a1bf999fad1f4547eeb887af54f31d11833f2
|  
o  parent: dfe39aa48c6ddde158e42217548b531a45ff66e9
|  
o  parent: 99ea42d70fbe32af955de907352999b1d94bef5f
|  
o  parent: 0000000000000000000000000000000000000000
|  
{{{1 child: $children_
@  
|  
o    child: 504f74154456dbb0e9441326514e42ce66279e62
|\   
o |  child: d8140c0b7b0b670bafe0891bcf0c4582092de884
| |  
| o  child: d8140c0b7b0b670bafe0891bcf0c4582092de884
|/   
o  child: e1eaeea486e48634588c778fd36a81ac5c8869a6
|  child: e021c634413b240b8c834a85200acc28d645f1f1
o  child: 5afd628b0861f6447ed813895d5ced58a1c42a72
|  
o  child: e85aa09aab1621b59b8be37f723410b219c8599c
|  
o  child: 67cf252de26b12da6769114cc89b793357f5a46a
|  
o  child: 456e0b05b81af4f332405336f11df4769ec9f250
|  
o    child: f44a21859e57e4abc6155da804d08dd5069e798e
|\   
o \    child: e5648a3eea574f3fc03709b4fdd799a38f649edd
|\ \   
| | o    child: e5648a3eea574f3fc03709b4fdd799a38f649edd
| | |\   
| | o \    child: be92227e3e43f4e7402408afe110098d209d2568
| | |\ \   
| | | | | o  
| | | | |/   
| +-----o  child: 14b19ea42f824c8597f8358149c5ba994299a410
| | | |    child: be92227e3e43f4e7402408afe110098d209d2568
| +-----o  
| | | |    
| o | |  child: 0e6e0adf281b423193f9dce097ab1df4f91215f7
| | | |  child: 023aa55bd8062179ce36adbdd78363e9b88718c1
| | | |  child: 462a1e95be86f96aaf6d7360f6f770826c3eb641
o | | |    child: 462a1e95be86f96aaf6d7360f6f770826c3eb641
|\ \ \ \   
| | o | |  child: c4110a066208167dae46b08f4e0d8d2b37e842f3
| |/ / /   
| o---+  child: 250ba7cd831ee91c3ba5bef1faebc38c5dbca5f8
|  / /   child: 269399222040415b3928a316f5d28792cc0be4dd
| | o  child: c06107b7bcbe751d2dd40faf4179ee7d6aac44ac
| |/   child: 5e2f73d0c01dfb8ee0d3577e03d016a5f6df58b1
| o  child: 9fe0c28c3e1dd175e8372b742f13cbb7bd6799fe
|/   child: 5e2f73d0c01dfb8ee0d3577e03d016a5f6df58b1
o  child: d760b0fe4fe45adf585f5030181b8081899e26a9
|  child: 269399222040415b3928a316f5d28792cc0be4dd
o  child: 7e16e7cbaf9ec5b0e65832bc6f057ba825c38cac
|  
o  child: a16a47a8d7aafc115651bfee6f1202093765365d
|  
o  child: 5a6a1bf999fad1f4547eeb887af54f31d11833f2
|  
o  child: dfe39aa48c6ddde158e42217548b531a45ff66e9
|  
{{{1 tag: $tags_
@  tag: tip
|  
o    
|\   
o |  
| |  
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  
| | | | |/   
| +-----o  tag: clines
| | | |    tag: oldtag
| +-----o  
| | | |    
| o | |  tag: blines
| | | |  
o | | |    
|\ \ \ \   
| | o | |  
| |/ / /   
| o---+  tag: ablines
|  / /   
| | o  
| |/   
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
{{{1 $rev: $stat
@  26:   .hgignore      | 2 0
|  26:   directory/file | 1 0
|  26: 2 files changed, 3 insertions, 0 deletions
o    25:   elines.lst     |   0 19
|\   25:   emerged.lst    | 127  0
| |  25:   flines.lst     |   0  5
| |  25:   glines.lst     |  73  0
| |  25:   glinescopy.lst |  83  0
| |  25: 5 files changed, 283 insertions, 24 deletions
o |  24:   elines.lst | 19 0
| |  24:   flines.lst |  5 0
| |  24:   glines.lst | 10 0
| |  24: 3 files changed, 34 insertions, 0 deletions
| o  23:   elines.lst |  88 0
|/   23:   flines.lst |  12 0
|    23:   glines.lst |  59 0
|    23: 3 files changed, 159 insertions, 0 deletions
o  22:   .hgtags | 1 0
|  22: 1 files changed, 1 insertions, 0 deletions
o  21:   ignored10.lst | 10 0
|  21: 1 files changed, 10 insertions, 0 deletions
o  20:   nohglinesrev.lst | 53 0
|  20: 1 files changed, 53 insertions, 0 deletions
o  19:   nohglines.lst | 53 0
|  19: 1 files changed, 53 insertions, 0 deletions
o  18:   hglines2.lst | 41 0
|  18: 1 files changed, 41 insertions, 0 deletions
o    17:   clines.lst | 49 0
|\   17: 1 files changed, 49 insertions, 0 deletions
o |    16:   .hgtags    |  1 0
|\ \   16:   blines.lst | 16 0
| | |  16: 2 files changed, 17 insertions, 0 deletions
| | o    15:   .hgtags     |  1 0
| | |\   15:   ablines.lst | 13 0
| | | |  15:   blines.lst  | 16 0
| | | |  15:   clines.lst  | 49 0
| | | |  15: 4 files changed, 79 insertions, 0 deletions
| | o \    14:   alines.lst | 64 0
| | |\ \   14: 1 files changed, 64 insertions, 0 deletions
| | | | | o  13:   .hgtags | 1 0
| | | | |/   13: 1 files changed, 1 insertions, 0 deletions
| +-----o  12:   clines.lst | 49 0
| | | |    12: 1 files changed, 49 insertions, 0 deletions
| +-----o  11:   .hgtags | 1 0
| | | |    11: 1 files changed, 1 insertions, 0 deletions
| o | |  10:   blines.lst | 16 0
| | | |  10: 1 files changed, 16 insertions, 0 deletions
o | | |    9:   ablines.lst |  13 0
|\ \ \ \   9:   alines.lst  |  64 0
| | | | |  9:   dlines.lst  |  52 0
| | | | |  9: 3 files changed, 129 insertions, 0 deletions
| | o | |  8:   .hgtags | 1 0
| |/ / /   8: 1 files changed, 1 insertions, 0 deletions
| o---+  7:   ablines.lst | 13 0
|  / /   7: 1 files changed, 13 insertions, 0 deletions
| | o  6:   alines.lst | 64 0
| |/   6: 1 files changed, 64 insertions, 0 deletions
| o  5:   dlines.lst | 52 0
|/   5: 1 files changed, 52 insertions, 0 deletions
o  4:   datelines.lst | 41 0
|  4:   hglines.lst   | 41 0
|  4: 2 files changed, 82 insertions, 0 deletions
o  3:   chgrepo.zsh | 94  0
|  3:   crepo.zsh   |  0 94
|  3: 2 files changed, 94 insertions, 94 deletions
o  2:   crepo.zsh | 4 4
|  2: 1 files changed, 4 insertions, 4 deletions
o  1:   createrepo.zsh |  0 94
|  1:   crepo.zsh      | 94  0
|  1: 2 files changed, 94 insertions, 94 deletions
o  0:   createrepo.zsh | 94 0
|  0: 1 files changed, 94 insertions, 0 deletions
{{{1 $files
@  .hgignore, directory/file
|  
o    emerged.lst, glines.lst, glinescopy.lst
|\   
o |  elines.lst, flines.lst, glines.lst
| |  
| o  elines.lst, flines.lst, glines.lst
|/   
o  .hgtags
|  
o  ignored10.lst
|  
o  nohglinesrev.lst
|  
o  nohglines.lst
|  
o  hglines2.lst
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  .hgtags
| | | | |/   
| +-----o  clines.lst
| | | |    
| +-----o  .hgtags
| | | |    
| o | |  blines.lst
| | | |  
o | | |    
|\ \ \ \   
| | o | |  .hgtags
| |/ / /   
| o---+  ablines.lst
|  / /   
| | o  alines.lst
| |/   
| o  dlines.lst
|/   
o  datelines.lst, hglines.lst
|  
o  chgrepo.zsh
|  
o  crepo.zsh
|  
o  crepo.zsh
|  
o  createrepo.zsh
|  
{{{1 $files#;;#
@  .hgignore;;directory/file
|  
o    emerged.lst;;glines.lst;;glinescopy.lst
|\   
o |  elines.lst;;flines.lst;;glines.lst
| |  
| o  elines.lst;;flines.lst;;glines.lst
|/   
o  .hgtags
|  
o  ignored10.lst
|  
o  nohglinesrev.lst
|  
o  nohglines.lst
|  
o  hglines2.lst
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  .hgtags
| | | | |/   
| +-----o  clines.lst
| | | |    
| +-----o  .hgtags
| | | |    
| o | |  blines.lst
| | | |  
o | | |    
|\ \ \ \   
| | o | |  .hgtags
| |/ / /   
| o---+  ablines.lst
|  / /   
| | o  alines.lst
| |/   
| o  dlines.lst
|/   
o  datelines.lst;;hglines.lst
|  
o  chgrepo.zsh
|  
o  crepo.zsh
|  
o  crepo.zsh
|  
o  createrepo.zsh
|  
{{{1 $changes
@  .hgignore, directory/file
|  
o    elines.lst, emerged.lst, flines.lst, glines.lst, glinescopy.lst
|\   
o |  elines.lst, flines.lst, glines.lst
| |  
| o  elines.lst, flines.lst, glines.lst
|/   
o  .hgtags
|  
o  ignored10.lst
|  
o  nohglinesrev.lst
|  
o  nohglines.lst
|  
o  hglines2.lst
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  .hgtags
| | | | |/   
| +-----o  clines.lst
| | | |    
| +-----o  .hgtags
| | | |    
| o | |  blines.lst
| | | |  
o | | |    
|\ \ \ \   
| | o | |  .hgtags
| |/ / /   
| o---+  ablines.lst
|  / /   
| | o  alines.lst
| |/   
| o  dlines.lst
|/   
o  datelines.lst, hglines.lst
|  
o  chgrepo.zsh, crepo.zsh
|  
o  crepo.zsh
|  
o  createrepo.zsh, crepo.zsh
|  
o  createrepo.zsh
|  
{{{1 $changes#;;#
@  .hgignore;;directory/file
|  
o    elines.lst;;emerged.lst;;flines.lst;;glines.lst;;glinescopy.lst
|\   
o |  elines.lst;;flines.lst;;glines.lst
| |  
| o  elines.lst;;flines.lst;;glines.lst
|/   
o  .hgtags
|  
o  ignored10.lst
|  
o  nohglinesrev.lst
|  
o  nohglines.lst
|  
o  hglines2.lst
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  .hgtags
| | | | |/   
| +-----o  clines.lst
| | | |    
| +-----o  .hgtags
| | | |    
| o | |  blines.lst
| | | |  
o | | |    
|\ \ \ \   
| | o | |  .hgtags
| |/ / /   
| o---+  ablines.lst
|  / /   
| | o  alines.lst
| |/   
| o  dlines.lst
|/   
o  datelines.lst;;hglines.lst
|  
o  chgrepo.zsh;;crepo.zsh
|  
o  crepo.zsh
|  
o  createrepo.zsh;;crepo.zsh
|  
o  createrepo.zsh
|  
{{{1 $renames
@  
|  
o    elines.lst to emerged.lst
|\   
o |  
| |  
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  
| | | | |/   
| +-----o  
| | | |    
| +-----o  
| | | |    
| o | |  
| | | |  
o | | |    
|\ \ \ \   
| | o | |  
| |/ / /   
| o---+  
|  / /   
| | o  
| |/   
| o  
|/   
o  
|  
o  crepo.zsh to chgrepo.zsh
|  
o  
|  
o  createrepo.zsh to crepo.zsh
|  
o  
|  
{{{1 $renames#->#
@  
|  
o    elines.lst->emerged.lst
|\   
o |  
| |  
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  
| | | | |/   
| +-----o  
| | | |    
| +-----o  
| | | |    
| o | |  
| | | |  
o | | |    
|\ \ \ \   
| | o | |  
| |/ / /   
| o---+  
|  / /   
| | o  
| |/   
| o  
|/   
o  
|  
o  crepo.zsh->chgrepo.zsh
|  
o  
|  
o  createrepo.zsh->crepo.zsh
|  
o  
|  
{{{1 $copies
@  
|  
o    glines.lst to glinescopy.lst
|\   
o |  
| |  
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  hglines.lst to hglines2.lst
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  
| | | | |/   
| +-----o  
| | | |    
| +-----o  
| | | |    
| o | |  
| | | |  
o | | |    
|\ \ \ \   
| | o | |  
| |/ / /   
| o---+  
|  / /   
| | o  
| |/   
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
{{{1 $copies#->#
@  
|  
o    glines.lst->glinescopy.lst
|\   
o |  
| |  
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  hglines.lst->hglines2.lst
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  
| | | | |/   
| +-----o  
| | | |    
| +-----o  
| | | |    
| o | |  
| | | |  
o | | |    
|\ \ \ \   
| | o | |  
| |/ / /   
| o---+  
|  / /   
| | o  
| |/   
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
{{{1 $phase
@  secret
|  
o    secret
|\   
o |  draft
| |  
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
o    
|\   
o \    
|\ \   
| | o    
| | |\   
| | o \    
| | |\ \   
| | | | | o  
| | | | |/   
| +-----o  
| | | |    
| +-----o  
| | | |    
| o | |  
| | | |  
o | | |    
|\ \ \ \   
| | o | |  
| |/ / /   
| o---+  
|  / /   
| | o  
| |/   
| o  
|/   
o  
|  
o  
|  
o  
|  
o  
|  
o  
|  
{{{1 $phase#keep#$empty
@  secret
|  
o    secret
|\   
o |  draft
| |  
| o  public
|/   
o  public
|  
o  public
|  
o  public
|  
o  public
|  
o  public
|  
o    public
|\   
o \    public
|\ \   
| | o    public
| | |\   
| | o \    public
| | |\ \   
| | | | | o  public
| | | | |/   
| +-----o  public
| | | |    
| +-----o  public
| | | |    
| o | |  public
| | | |  
o | | |    public
|\ \ \ \   
| | o | |  public
| |/ / /   
| o---+  public
|  / /   
| | o  public
| |/   
| o  public
|/   
o  public
|  
o  public
|  
o  public
|  
o  public
|  
o  public
|  
