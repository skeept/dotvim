:W{{{1 AuAnnotate
:silent edit `=g:curtest.'repo/chgrepo.zsh'`
:W{{{2 buffer
:call WriteFile('sb: '.&scrollbind.', cb: '.&cursorbind.', w:'.&wrap)
:Run! AuAnnotate | wincmd p
:W{{{2
:call WriteFile('sb: '.&scrollbind.', cb: '.&cursorbind.', w:'.&wrap)
:call WriteFile(bufname('%'), 'w$: '.winnr('$').', w0: '.winnr())
:bwipeout!
:
:call WriteFile('sb: '.&scrollbind.', cb: '.&cursorbind.', w:'.&wrap)
:bwipeout!
:W{{{1 AuAnnotate file
:W{{{2 buffer
:Run AuAnnotate file chgrepo.zsh | wincmd p
:W{{{2
:call WriteFile(bufname('%'), 'w$: '.winnr('$').', w0: '.winnr())
:bwipeout!
:
:bwipeout!
:W{{{1 AuAnnotate file+rev
:W{{{2 buffer
:Run AuAnnotate file crepo.zsh rev 2 | wincmd p
:W{{{2
:call WriteFile(bufname('%'), 'w$: '.winnr('$').', w0: '.winnr())
:bwipeout!
:
:bwipeout!
:W{{{1 AuAnnotate file+rev+repo
:W{{{2 buffer
:execute 'Run! AuAnnotate file '.g:curtest.'repo/crepo.zsh rev 2 repo '.g:curtest.'repo | wincmd p'
:W{{{2
:call WriteFile(bufname('%'), 'w$: '.winnr('$').', w0: '.winnr())
:bwipeout!
:
:bwipeout!
:W{{{1 Regression: annotate second buffer in a vertical split
:silent edit `=g:curtest.'repo/chgrepo.zsh'`
:silent vsplit
:wincmd l
:for w in range(1, winnr('$'))|call WriteFile(w.': sb: '.getwinvar(w, '&scrollbind').', cb: '.getwinvar(w, '&cursorbind').', w:'.getwinvar(w, '&wrap'))|endfor
:R! AuAnnotate
:WW
:for w in range(1, winnr('$'))|call WriteFile(w.': sb: '.getwinvar(w, '&scrollbind').', cb: '.getwinvar(w, '&cursorbind').', w:'.getwinvar(w, '&wrap'))|endfor
:wincmd p
:WW
:bwipeout!
:WW
:for w in range(1, winnr('$'))|call WriteFile(w.': sb: '.getwinvar(w, '&scrollbind').', cb: '.getwinvar(w, '&cursorbind').', w:'.getwinvar(w, '&wrap'))|endfor
:
:bwipeout!
:source addmessages.vim
